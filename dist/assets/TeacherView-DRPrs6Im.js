import{_ as O,c as Ea,G as at,a as zt,S as Na,e as Bt,l as Zt,u as At,s as Va,i as Qe,g as ee,n as za,Z as Ba,b as Ft,d as ta,f as ea,t as Gt,h as xt,r as ve,j as Za,k as Fa,m as Wt,o as z,p as Ct,q as aa,v as st,w as he,P as na,x as Ga,y as pe,z as ge,A as ut,B as de,C as me,D as Pt,E as ye,F as J,H as Ht,I as Wa,J as Ha,K as Ua,L as C,M as $a,N as be,O as Xa,Q as Ya,R as qa,T as Ka,U as ja,V as Ja,W as It,X as Qa,Y as ae,$ as U,a0 as j,a1 as ra,a2 as tn,a3 as en,a4 as an,a5 as G,a6 as _e,a7 as nn,a8 as ia,a9 as rn,aa as on,ab as mt,ac as ct,ad as sn,ae as wt,af as oa,ag as sa,ah as pt,ai as ln,aj as un,ak as cn,al as fn,am as vn,an as hn,ao as Ut,ap as pn,aq as gn,ar as dn,as as mn,at as yn,au as bn,av as _n,aw as Sn,ax as Se,ay as xn,az as xe,aA as An,aB as la,aC as Cn,aD as wn,aE as ua,aF as Tn,aG as In,aH as Dn,aI as Mn,aJ as Pn,aK as kn}from"./index.esm.min-CvtVqXc7.js";import{_ as ca,r as rt,o as it,c as fa,u as On,a as kt,b as _t,d as gt,w as Ot,F as Ae,n as Ce,t as St,e as we,f as Rn}from"./index-DyuyiXoW.js";var Ln=function(n){O(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.hasSymbolVisual=!0,t}return e.prototype.getInitialData=function(t){return Ea(null,this,{useEncodeDefaulter:!0})},e.prototype.getLegendIcon=function(t){var a=new at,r=zt("line",0,t.itemHeight/2,t.itemWidth,0,t.lineStyle.stroke,!1);a.add(r),r.setStyle(t.lineStyle);var i=this.getData().getVisual("symbol"),o=this.getData().getVisual("symbolRotate"),s=i==="none"?"circle":i,l=t.itemHeight*.8,u=zt(s,(t.itemWidth-l)/2,(t.itemHeight-l)/2,l,l,t.itemStyle.fill);a.add(u),u.setStyle(t.itemStyle);var f=t.iconRotate==="inherit"?o:t.iconRotate||0;return u.rotation=f*Math.PI/180,u.setOrigin([t.itemWidth/2,t.itemHeight/2]),s.indexOf("empty")>-1&&(u.style.stroke=u.style.fill,u.style.fill="#fff",u.style.lineWidth=2),a},e.type="series.line",e.dependencies=["grid","polar"],e.defaultOption={z:3,coordinateSystem:"cartesian2d",legendHoverLink:!0,clip:!0,label:{position:"top"},endLabel:{show:!1,valueAnimation:!0,distance:8},lineStyle:{width:2,type:"solid"},emphasis:{scale:!0},step:!1,smooth:!1,smoothMonotone:null,symbol:"emptyCircle",symbolSize:4,symbolRotate:null,showSymbol:!0,showAllSymbol:"auto",connectNulls:!1,sampling:"none",animationEasing:"linear",progressive:0,hoverLayerThreshold:1/0,universalTransition:{divideShape:"clone"},triggerLineEvent:!1},e}(Na),ne=function(n){O(e,n);function e(t,a,r,i){var o=n.call(this)||this;return o.updateData(t,a,r,i),o}return e.prototype._createSymbol=function(t,a,r,i,o){this.removeAll();var s=zt(t,-1,-1,2,2,null,o);s.attr({z2:100,culling:!0,scaleX:i[0]/2,scaleY:i[1]/2}),s.drift=En,this._symbolType=t,this.add(s)},e.prototype.stopSymbolAnimation=function(t){this.childAt(0).stopAnimation(null,t)},e.prototype.getSymbolType=function(){return this._symbolType},e.prototype.getSymbolPath=function(){return this.childAt(0)},e.prototype.highlight=function(){Bt(this.childAt(0))},e.prototype.downplay=function(){Zt(this.childAt(0))},e.prototype.setZ=function(t,a){var r=this.childAt(0);r.zlevel=t,r.z=a},e.prototype.setDraggable=function(t,a){var r=this.childAt(0);r.draggable=t,r.cursor=!a&&t?"move":r.cursor},e.prototype.updateData=function(t,a,r,i){this.silent=!1;var o=t.getItemVisual(a,"symbol")||"circle",s=t.hostModel,l=e.getSymbolSize(t,a),u=o!==this._symbolType,f=i&&i.disableAnimation;if(u){var c=t.getItemVisual(a,"symbolKeepAspect");this._createSymbol(o,t,a,l,c)}else{var v=this.childAt(0);v.silent=!1;var h={scaleX:l[0]/2,scaleY:l[1]/2};f?v.attr(h):At(v,h,s,a),Va(v)}if(this._updateCommon(t,a,l,r,i),u){var v=this.childAt(0);if(!f){var h={scaleX:this._sizeX,scaleY:this._sizeY,style:{opacity:v.style.opacity}};v.scaleX=v.scaleY=0,v.style.opacity=0,Qe(v,h,s,a)}}f&&this.childAt(0).stopAnimation("leave")},e.prototype._updateCommon=function(t,a,r,i,o){var s=this.childAt(0),l=t.hostModel,u,f,c,v,h,p,m,b,g;if(i&&(u=i.emphasisItemStyle,f=i.blurItemStyle,c=i.selectItemStyle,v=i.focus,h=i.blurScope,m=i.labelStatesModels,b=i.hoverScale,g=i.cursorStyle,p=i.emphasisDisabled),!i||t.hasItemOption){var d=i&&i.itemModel?i.itemModel:t.getItemModel(a),y=d.getModel("emphasis");u=y.getModel("itemStyle").getItemStyle(),c=d.getModel(["select","itemStyle"]).getItemStyle(),f=d.getModel(["blur","itemStyle"]).getItemStyle(),v=y.get("focus"),h=y.get("blurScope"),p=y.get("disabled"),m=ee(d),b=y.getShallow("scale"),g=d.getShallow("cursor")}var _=t.getItemVisual(a,"symbolRotate");s.attr("rotation",(_||0)*Math.PI/180||0);var A=za(t.getItemVisual(a,"symbolOffset"),r);A&&(s.x=A[0],s.y=A[1]),g&&s.attr("cursor",g);var S=t.getItemVisual(a,"style"),x=S.fill;if(s instanceof Ba){var w=s.style;s.useStyle(Ft({image:w.image,x:w.x,y:w.y,width:w.width,height:w.height},S))}else s.__isEmptyBrush?s.useStyle(Ft({},S)):s.useStyle(S),s.style.decal=null,s.setColor(x,o&&o.symbolInnerColor),s.style.strokeNoScale=!0;var T=t.getItemVisual(a,"liftZ"),D=this._z2;T!=null?D==null&&(this._z2=s.z2,s.z2+=T):D!=null&&(s.z2=D,this._z2=null);var M=o&&o.useNameLabel;ta(s,m,{labelFetcher:l,labelDataIndex:a,defaultText:I,inheritColor:x,defaultOpacity:S.opacity});function I(V){return M?t.getName(V):ea(t,V)}this._sizeX=r[0]/2,this._sizeY=r[1]/2;var P=s.ensureState("emphasis");P.style=u,s.ensureState("select").style=c,s.ensureState("blur").style=f;var L=b==null||b===!0?Math.max(1.1,3/this._sizeY):isFinite(b)&&b>0?+b:1;P.scaleX=this._sizeX*L,P.scaleY=this._sizeY*L,this.setSymbolScale(1),Gt(this,v,h,p)},e.prototype.setSymbolScale=function(t){this.scaleX=this.scaleY=t},e.prototype.fadeOut=function(t,a,r){var i=this.childAt(0),o=xt(this).dataIndex,s=r&&r.animation;if(this.silent=i.silent=!0,r&&r.fadeLabel){var l=i.getTextContent();l&&ve(l,{style:{opacity:0}},a,{dataIndex:o,removeOpt:s,cb:function(){i.removeTextContent()}})}else i.removeTextContent();ve(i,{style:{opacity:0},scaleX:0,scaleY:0},a,{dataIndex:o,cb:t,removeOpt:s})},e.getSymbolSize=function(t,a){return Za(t.getItemVisual(a,"symbolSize"))},e}(at);function En(n,e){this.parent.drift(n,e)}function Rt(n,e,t,a){return e&&!isNaN(e[0])&&!isNaN(e[1])&&!(a.isIgnore&&a.isIgnore(t))&&!(a.clipShape&&!a.clipShape.contain(e[0],e[1]))&&n.getItemVisual(t,"symbol")!=="none"}function Te(n){return n!=null&&!Wt(n)&&(n={isIgnore:n}),n||{}}function Ie(n){var e=n.hostModel,t=e.getModel("emphasis");return{emphasisItemStyle:t.getModel("itemStyle").getItemStyle(),blurItemStyle:e.getModel(["blur","itemStyle"]).getItemStyle(),selectItemStyle:e.getModel(["select","itemStyle"]).getItemStyle(),focus:t.get("focus"),blurScope:t.get("blurScope"),emphasisDisabled:t.get("disabled"),hoverScale:t.get("scale"),labelStatesModels:ee(e),cursorStyle:e.get("cursor")}}var Nn=function(){function n(e){this.group=new at,this._SymbolCtor=e||ne}return n.prototype.updateData=function(e,t){this._progressiveEls=null,t=Te(t);var a=this.group,r=e.hostModel,i=this._data,o=this._SymbolCtor,s=t.disableAnimation,l=Ie(e),u={disableAnimation:s},f=t.getSymbolPoint||function(c){return e.getItemLayout(c)};i||a.removeAll(),e.diff(i).add(function(c){var v=f(c);if(Rt(e,v,c,t)){var h=new o(e,c,l,u);h.setPosition(v),e.setItemGraphicEl(c,h),a.add(h)}}).update(function(c,v){var h=i.getItemGraphicEl(v),p=f(c);if(!Rt(e,p,c,t)){a.remove(h);return}var m=e.getItemVisual(c,"symbol")||"circle",b=h&&h.getSymbolType&&h.getSymbolType();if(!h||b&&b!==m)a.remove(h),h=new o(e,c,l,u),h.setPosition(p);else{h.updateData(e,c,l,u);var g={x:p[0],y:p[1]};s?h.attr(g):At(h,g,r)}a.add(h),e.setItemGraphicEl(c,h)}).remove(function(c){var v=i.getItemGraphicEl(c);v&&v.fadeOut(function(){a.remove(v)},r)}).execute(),this._getSymbolPoint=f,this._data=e},n.prototype.updateLayout=function(){var e=this,t=this._data;t&&t.eachItemGraphicEl(function(a,r){var i=e._getSymbolPoint(r);a.setPosition(i),a.markRedraw()})},n.prototype.incrementalPrepareUpdate=function(e){this._seriesScope=Ie(e),this._data=null,this.group.removeAll()},n.prototype.incrementalUpdate=function(e,t,a){this._progressiveEls=[],a=Te(a);function r(l){l.isGroup||(l.incremental=!0,l.ensureState("emphasis").hoverLayer=!0)}for(var i=e.start;i<e.end;i++){var o=t.getItemLayout(i);if(Rt(t,o,i,a)){var s=new this._SymbolCtor(t,i,this._seriesScope);s.traverse(r),s.setPosition(o),this.group.add(s),t.setItemGraphicEl(i,s),this._progressiveEls.push(s)}}},n.prototype.eachRendered=function(e){Fa(this._progressiveEls||this.group,e)},n.prototype.remove=function(e){var t=this.group,a=this._data;a&&e?a.eachItemGraphicEl(function(r){r.fadeOut(function(){t.remove(r)},a.hostModel)}):t.removeAll()},n}();function va(n,e,t){var a=n.getBaseAxis(),r=n.getOtherAxis(a),i=Vn(r,t),o=a.dim,s=r.dim,l=e.mapDimension(s),u=e.mapDimension(o),f=s==="x"||s==="radius"?1:0,c=z(n.dimensions,function(p){return e.mapDimension(p)}),v=!1,h=e.getCalculationInfo("stackResultDimension");return Ct(e,c[0])&&(v=!0,c[0]=h),Ct(e,c[1])&&(v=!0,c[1]=h),{dataDimsForPoint:c,valueStart:i,valueAxisDim:s,baseAxisDim:o,stacked:!!v,valueDim:l,baseDim:u,baseDataOffset:f,stackedOverDimension:e.getCalculationInfo("stackedOverDimension")}}function Vn(n,e){var t=0,a=n.scale.getExtent();return e==="start"?t=a[0]:e==="end"?t=a[1]:aa(e)&&!isNaN(e)?t=e:a[0]>0?t=a[0]:a[1]<0&&(t=a[1]),t}function ha(n,e,t,a){var r=NaN;n.stacked&&(r=t.get(t.getCalculationInfo("stackedOverDimension"),a)),isNaN(r)&&(r=n.valueStart);var i=n.baseDataOffset,o=[];return o[i]=t.get(n.baseDim,a),o[1-i]=r,e.dataToPoint(o)}function zn(n,e){var t=[];return e.diff(n).add(function(a){t.push({cmd:"+",idx:a})}).update(function(a,r){t.push({cmd:"=",idx:r,idx1:a})}).remove(function(a){t.push({cmd:"-",idx:a})}).execute(),t}function Bn(n,e,t,a,r,i,o,s){for(var l=zn(n,e),u=[],f=[],c=[],v=[],h=[],p=[],m=[],b=va(r,e,o),g=n.getLayout("points")||[],d=e.getLayout("points")||[],y=0;y<l.length;y++){var _=l[y],A=!0,S=void 0,x=void 0;switch(_.cmd){case"=":S=_.idx*2,x=_.idx1*2;var w=g[S],T=g[S+1],D=d[x],M=d[x+1];(isNaN(w)||isNaN(T))&&(w=D,T=M),u.push(w,T),f.push(D,M),c.push(t[S],t[S+1]),v.push(a[x],a[x+1]),m.push(e.getRawIndex(_.idx1));break;case"+":var I=_.idx,P=b.dataDimsForPoint,L=r.dataToPoint([e.get(P[0],I),e.get(P[1],I)]);x=I*2,u.push(L[0],L[1]),f.push(d[x],d[x+1]);var V=ha(b,r,e,I);c.push(V[0],V[1]),v.push(a[x],a[x+1]),m.push(e.getRawIndex(I));break;case"-":A=!1}A&&(h.push(_),p.push(p.length))}p.sort(function(bt,N){return m[bt]-m[N]});for(var E=u.length,W=st(E),R=st(E),k=st(E),$=st(E),X=[],y=0;y<p.length;y++){var ht=p[y],B=y*2,Z=ht*2;W[B]=u[Z],W[B+1]=u[Z+1],R[B]=f[Z],R[B+1]=f[Z+1],k[B]=c[Z],k[B+1]=c[Z+1],$[B]=v[Z],$[B+1]=v[Z+1],X[y]=h[ht]}return{current:W,next:R,stackedOnCurrent:k,stackedOnNext:$,status:X}}var Y=Math.min,q=Math.max;function Q(n,e){return isNaN(n)||isNaN(e)}function $t(n,e,t,a,r,i,o,s,l){for(var u,f,c,v,h,p,m=t,b=0;b<a;b++){var g=e[m*2],d=e[m*2+1];if(m>=r||m<0)break;if(Q(g,d)){if(l){m+=i;continue}break}if(m===t)n[i>0?"moveTo":"lineTo"](g,d),c=g,v=d;else{var y=g-u,_=d-f;if(y*y+_*_<.5){m+=i;continue}if(o>0){for(var A=m+i,S=e[A*2],x=e[A*2+1];S===g&&x===d&&b<a;)b++,A+=i,m+=i,S=e[A*2],x=e[A*2+1],g=e[m*2],d=e[m*2+1],y=g-u,_=d-f;var w=b+1;if(l)for(;Q(S,x)&&w<a;)w++,A+=i,S=e[A*2],x=e[A*2+1];var T=.5,D=0,M=0,I=void 0,P=void 0;if(w>=a||Q(S,x))h=g,p=d;else{D=S-u,M=x-f;var L=g-u,V=S-g,E=d-f,W=x-d,R=void 0,k=void 0;if(s==="x"){R=Math.abs(L),k=Math.abs(V);var $=D>0?1:-1;h=g-$*R*o,p=d,I=g+$*k*o,P=d}else if(s==="y"){R=Math.abs(E),k=Math.abs(W);var X=M>0?1:-1;h=g,p=d-X*R*o,I=g,P=d+X*k*o}else R=Math.sqrt(L*L+E*E),k=Math.sqrt(V*V+W*W),T=k/(k+R),h=g-D*o*(1-T),p=d-M*o*(1-T),I=g+D*o*T,P=d+M*o*T,I=Y(I,q(S,g)),P=Y(P,q(x,d)),I=q(I,Y(S,g)),P=q(P,Y(x,d)),D=I-g,M=P-d,h=g-D*R/k,p=d-M*R/k,h=Y(h,q(u,g)),p=Y(p,q(f,d)),h=q(h,Y(u,g)),p=q(p,Y(f,d)),D=g-h,M=d-p,I=g+D*k/R,P=d+M*k/R}n.bezierCurveTo(c,v,h,p,g,d),c=I,v=P}else n.lineTo(g,d)}u=g,f=d,m+=i}return b}var pa=function(){function n(){this.smooth=0,this.smoothConstraint=!0}return n}(),Zn=function(n){O(e,n);function e(t){var a=n.call(this,t)||this;return a.type="ec-polyline",a}return e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new pa},e.prototype.buildPath=function(t,a){var r=a.points,i=0,o=r.length/2;if(a.connectNulls){for(;o>0&&Q(r[o*2-2],r[o*2-1]);o--);for(;i<o&&Q(r[i*2],r[i*2+1]);i++);}for(;i<o;)i+=$t(t,r,i,o,o,1,a.smooth,a.smoothMonotone,a.connectNulls)+1},e.prototype.getPointOn=function(t,a){this.path||(this.createPathProxy(),this.buildPath(this.path,this.shape));for(var r=this.path,i=r.data,o=Ga.CMD,s,l,u=a==="x",f=[],c=0;c<i.length;){var v=i[c++],h=void 0,p=void 0,m=void 0,b=void 0,g=void 0,d=void 0,y=void 0;switch(v){case o.M:s=i[c++],l=i[c++];break;case o.L:if(h=i[c++],p=i[c++],y=u?(t-s)/(h-s):(t-l)/(p-l),y<=1&&y>=0){var _=u?(p-l)*y+l:(h-s)*y+s;return u?[t,_]:[_,t]}s=h,l=p;break;case o.C:h=i[c++],p=i[c++],m=i[c++],b=i[c++],g=i[c++],d=i[c++];var A=u?he(s,h,m,g,t,f):he(l,p,b,d,t,f);if(A>0)for(var S=0;S<A;S++){var x=f[S];if(x<=1&&x>=0){var _=u?pe(l,p,b,d,x):pe(s,h,m,g,x);return u?[t,_]:[_,t]}}s=g,l=d;break}}},e}(na),Fn=function(n){O(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e}(pa),Gn=function(n){O(e,n);function e(t){var a=n.call(this,t)||this;return a.type="ec-polygon",a}return e.prototype.getDefaultShape=function(){return new Fn},e.prototype.buildPath=function(t,a){var r=a.points,i=a.stackedOnPoints,o=0,s=r.length/2,l=a.smoothMonotone;if(a.connectNulls){for(;s>0&&Q(r[s*2-2],r[s*2-1]);s--);for(;o<s&&Q(r[o*2],r[o*2+1]);o++);}for(;o<s;){var u=$t(t,r,o,s,s,1,a.smooth,l,a.connectNulls);$t(t,i,o+u-1,u,s,-1,a.stackedOnSmooth,l,a.connectNulls),o+=u+1,t.closePath()}},e}(na);function De(n,e){if(n.length===e.length){for(var t=0;t<n.length;t++)if(n[t]!==e[t])return;return!0}}function Me(n){for(var e=1/0,t=1/0,a=-1/0,r=-1/0,i=0;i<n.length;){var o=n[i++],s=n[i++];isNaN(o)||(e=Math.min(o,e),a=Math.max(o,a)),isNaN(s)||(t=Math.min(s,t),r=Math.max(s,r))}return[[e,t],[a,r]]}function Pe(n,e){var t=Me(n),a=t[0],r=t[1],i=Me(e),o=i[0],s=i[1];return Math.max(Math.abs(a[0]-o[0]),Math.abs(a[1]-o[1]),Math.abs(r[0]-s[0]),Math.abs(r[1]-s[1]))}function ke(n){return aa(n)?n:n?.5:0}function Wn(n,e,t){if(!t.valueDim)return[];for(var a=e.count(),r=st(a*2),i=0;i<a;i++){var o=ha(t,n,e,i);r[i*2]=o[0],r[i*2+1]=o[1]}return r}function K(n,e,t,a){var r=e.getBaseAxis(),i=r.dim==="x"||r.dim==="radius"?0:1,o=[],s=0,l=[],u=[],f=[],c=[];if(a){for(s=0;s<n.length;s+=2)!isNaN(n[s])&&!isNaN(n[s+1])&&c.push(n[s],n[s+1]);n=c}for(s=0;s<n.length-2;s+=2)switch(f[0]=n[s+2],f[1]=n[s+3],u[0]=n[s],u[1]=n[s+1],o.push(u[0],u[1]),t){case"end":l[i]=f[i],l[1-i]=u[1-i],o.push(l[0],l[1]);break;case"middle":var v=(u[i]+f[i])/2,h=[];l[i]=h[i]=v,l[1-i]=u[1-i],h[1-i]=f[1-i],o.push(l[0],l[1]),o.push(h[0],h[1]);break;default:l[i]=u[i],l[1-i]=f[1-i],o.push(l[0],l[1])}return o.push(n[s++],n[s++]),o}function Hn(n,e){var t=[],a=n.length,r,i;function o(f,c,v){var h=f.coord,p=(v-h)/(c.coord-h),m=Ka(p,[f.color,c.color]);return{coord:v,color:m}}for(var s=0;s<a;s++){var l=n[s],u=l.coord;if(u<0)r=l;else if(u>e){i?t.push(o(i,l,e)):r&&t.push(o(r,l,0),o(r,l,e));break}else r&&(t.push(o(r,l,0)),r=null),t.push(l),i=l}return t}function Un(n,e,t){var a=n.getVisual("visualMeta");if(!(!a||!a.length||!n.count())&&e.type==="cartesian2d"){for(var r,i,o=a.length-1;o>=0;o--){var s=n.getDimensionInfo(a[o].dimension);if(r=s&&s.coordDim,r==="x"||r==="y"){i=a[o];break}}if(i){var l=e.getAxis(r),u=z(i.stops,function(y){return{coord:l.toGlobalCoord(l.dataToCoord(y.value)),color:y.color}}),f=u.length,c=i.outerColors.slice();f&&u[0].coord>u[f-1].coord&&(u.reverse(),c.reverse());var v=Hn(u,r==="x"?t.getWidth():t.getHeight()),h=v.length;if(!h&&f)return u[0].coord<0?c[1]?c[1]:u[f-1].color:c[0]?c[0]:u[0].color;var p=10,m=v[0].coord-p,b=v[h-1].coord+p,g=b-m;if(g<.001)return"transparent";C(v,function(y){y.offset=(y.coord-m)/g}),v.push({offset:h?v[h-1].offset:.5,color:c[1]||"transparent"}),v.unshift({offset:h?v[0].offset:.5,color:c[0]||"transparent"});var d=new $a(0,0,0,0,v,!0);return d[r]=m,d[r+"2"]=b,d}}}function $n(n,e,t){var a=n.get("showAllSymbol"),r=a==="auto";if(!(a&&!r)){var i=t.getAxesByScale("ordinal")[0];if(i&&!(r&&Xn(i,e))){var o=e.mapDimension(i.dim),s={};return C(i.getViewLabels(),function(l){var u=i.scale.getRawOrdinalNumber(l.tickValue);s[u]=1}),function(l){return!s.hasOwnProperty(e.get(o,l))}}}}function Xn(n,e){var t=n.getExtent(),a=Math.abs(t[1]-t[0])/n.scale.count();isNaN(a)&&(a=0);for(var r=e.count(),i=Math.max(1,Math.round(r/5)),o=0;o<r;o+=i)if(ne.getSymbolSize(e,o)[n.isHorizontal()?1:0]*1.5>a)return!1;return!0}function Yn(n,e){return isNaN(n)||isNaN(e)}function qn(n){for(var e=n.length/2;e>0&&Yn(n[e*2-2],n[e*2-1]);e--);return e-1}function Oe(n,e){return[n[e*2],n[e*2+1]]}function Kn(n,e,t){for(var a=n.length/2,r=t==="x"?0:1,i,o,s=0,l=-1,u=0;u<a;u++)if(o=n[u*2+r],!(isNaN(o)||isNaN(n[u*2+1-r]))){if(u===0){i=o;continue}if(i<=e&&o>=e||i>=e&&o<=e){l=u;break}s=u,i=o}return{range:[s,l],t:(e-i)/(o-i)}}function ga(n){if(n.get(["endLabel","show"]))return!0;for(var e=0;e<be.length;e++)if(n.get([be[e],"endLabel","show"]))return!0;return!1}function Lt(n,e,t,a){if(Xa(e,"cartesian2d")){var r=a.getModel("endLabel"),i=r.get("valueAnimation"),o=a.getData(),s={lastFrameIndex:0},l=ga(a)?function(h,p){n._endLabelOnDuring(h,p,o,s,i,r,e)}:null,u=e.getBaseAxis().isHorizontal(),f=Ya(e,t,a,function(){var h=n._endLabel;h&&t&&s.originalX!=null&&h.attr({x:s.originalX,y:s.originalY})},l);if(!a.get("clip",!0)){var c=f.shape,v=Math.max(c.width,c.height);u?(c.y-=v,c.height+=v*2):(c.x-=v,c.width+=v*2)}return l&&l(1,f),f}else return qa(e,t,a)}function jn(n,e){var t=e.getBaseAxis(),a=t.isHorizontal(),r=t.inverse,i=a?r?"right":"left":"center",o=a?"middle":r?"top":"bottom";return{normal:{align:n.get("align")||i,verticalAlign:n.get("verticalAlign")||o}}}var Jn=function(n){O(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.init=function(){var t=new at,a=new Nn;this.group.add(a.group),this._symbolDraw=a,this._lineGroup=t},e.prototype.render=function(t,a,r){var i=this,o=t.coordinateSystem,s=this.group,l=t.getData(),u=t.getModel("lineStyle"),f=t.getModel("areaStyle"),c=l.getLayout("points")||[],v=o.type==="polar",h=this._coordSys,p=this._symbolDraw,m=this._polyline,b=this._polygon,g=this._lineGroup,d=!a.ssr&&t.get("animation"),y=!f.isEmpty(),_=f.get("origin"),A=va(o,l,_),S=y&&Wn(o,l,A),x=t.get("showSymbol"),w=t.get("connectNulls"),T=x&&!v&&$n(t,l,o),D=this._data;D&&D.eachItemGraphicEl(function(N,La){N.__temp&&(s.remove(N),D.setItemGraphicEl(La,null))}),x||p.remove(),s.add(g);var M=v?!1:t.get("step"),I;o&&o.getArea&&t.get("clip",!0)&&(I=o.getArea(),I.width!=null?(I.x-=.1,I.y-=.1,I.width+=.2,I.height+=.2):I.r0&&(I.r0-=.5,I.r+=.5)),this._clipShapeForSymbol=I;var P=Un(l,o,r)||l.getVisual("style")[l.getVisual("drawType")];if(!(m&&h.type===o.type&&M===this._step))x&&p.updateData(l,{isIgnore:T,clipShape:I,disableAnimation:!0,getSymbolPoint:function(N){return[c[N*2],c[N*2+1]]}}),d&&this._initSymbolLabelAnimation(l,o,I),M&&(c=K(c,o,M,w),S&&(S=K(S,o,M,w))),m=this._newPolyline(c),y?b=this._newPolygon(c,S):b&&(g.remove(b),b=this._polygon=null),v||this._initOrUpdateEndLabel(t,o,ge(P)),g.setClipPath(Lt(this,o,!0,t));else{y&&!b?b=this._newPolygon(c,S):b&&!y&&(g.remove(b),b=this._polygon=null),v||this._initOrUpdateEndLabel(t,o,ge(P));var L=g.getClipPath();if(L){var V=Lt(this,o,!1,t);Qe(L,{shape:V.shape},t)}else g.setClipPath(Lt(this,o,!0,t));x&&p.updateData(l,{isIgnore:T,clipShape:I,disableAnimation:!0,getSymbolPoint:function(N){return[c[N*2],c[N*2+1]]}}),(!De(this._stackedOnPoints,S)||!De(this._points,c))&&(d?this._doUpdateAnimation(l,S,o,r,M,_,w):(M&&(c=K(c,o,M,w),S&&(S=K(S,o,M,w))),m.setShape({points:c}),b&&b.setShape({points:c,stackedOnPoints:S})))}var E=t.getModel("emphasis"),W=E.get("focus"),R=E.get("blurScope"),k=E.get("disabled");if(m.useStyle(ut(u.getLineStyle(),{fill:"none",stroke:P,lineJoin:"bevel"})),de(m,t,"lineStyle"),m.style.lineWidth>0&&t.get(["emphasis","lineStyle","width"])==="bolder"){var $=m.getState("emphasis").style;$.lineWidth=+m.style.lineWidth+1}xt(m).seriesIndex=t.seriesIndex,Gt(m,W,R,k);var X=ke(t.get("smooth")),ht=t.get("smoothMonotone");if(m.setShape({smooth:X,smoothMonotone:ht,connectNulls:w}),b){var B=l.getCalculationInfo("stackedOnSeries"),Z=0;b.useStyle(ut(f.getAreaStyle(),{fill:P,opacity:.7,lineJoin:"bevel",decal:l.getVisual("style").decal})),B&&(Z=ke(B.get("smooth"))),b.setShape({smooth:X,stackedOnSmooth:Z,smoothMonotone:ht,connectNulls:w}),de(b,t,"areaStyle"),xt(b).seriesIndex=t.seriesIndex,Gt(b,W,R,k)}var bt=function(N){i._changePolyState(N)};l.eachItemGraphicEl(function(N){N&&(N.onHoverStateChange=bt)}),this._polyline.onHoverStateChange=bt,this._data=l,this._coordSys=o,this._stackedOnPoints=S,this._points=c,this._step=M,this._valueOrigin=_,t.get("triggerLineEvent")&&(this.packEventData(t,m),b&&this.packEventData(t,b))},e.prototype.packEventData=function(t,a){xt(a).eventData={componentType:"series",componentSubType:"line",componentIndex:t.componentIndex,seriesIndex:t.seriesIndex,seriesName:t.name,seriesType:"line"}},e.prototype.highlight=function(t,a,r,i){var o=t.getData(),s=me(o,i);if(this._changePolyState("emphasis"),!(s instanceof Array)&&s!=null&&s>=0){var l=o.getLayout("points"),u=o.getItemGraphicEl(s);if(!u){var f=l[s*2],c=l[s*2+1];if(isNaN(f)||isNaN(c)||this._clipShapeForSymbol&&!this._clipShapeForSymbol.contain(f,c))return;var v=t.get("zlevel")||0,h=t.get("z")||0;u=new ne(o,s),u.x=f,u.y=c,u.setZ(v,h);var p=u.getSymbolPath().getTextContent();p&&(p.zlevel=v,p.z=h,p.z2=this._polyline.z2+1),u.__temp=!0,o.setItemGraphicEl(s,u),u.stopSymbolAnimation(!0),this.group.add(u)}u.highlight()}else Pt.prototype.highlight.call(this,t,a,r,i)},e.prototype.downplay=function(t,a,r,i){var o=t.getData(),s=me(o,i);if(this._changePolyState("normal"),s!=null&&s>=0){var l=o.getItemGraphicEl(s);l&&(l.__temp?(o.setItemGraphicEl(s,null),this.group.remove(l)):l.downplay())}else Pt.prototype.downplay.call(this,t,a,r,i)},e.prototype._changePolyState=function(t){var a=this._polygon;ye(this._polyline,t),a&&ye(a,t)},e.prototype._newPolyline=function(t){var a=this._polyline;return a&&this._lineGroup.remove(a),a=new Zn({shape:{points:t},segmentIgnoreThreshold:2,z2:10}),this._lineGroup.add(a),this._polyline=a,a},e.prototype._newPolygon=function(t,a){var r=this._polygon;return r&&this._lineGroup.remove(r),r=new Gn({shape:{points:t,stackedOnPoints:a},segmentIgnoreThreshold:2}),this._lineGroup.add(r),this._polygon=r,r},e.prototype._initSymbolLabelAnimation=function(t,a,r){var i,o,s=a.getBaseAxis(),l=s.inverse;a.type==="cartesian2d"?(i=s.isHorizontal(),o=!1):a.type==="polar"&&(i=s.dim==="angle",o=!0);var u=t.hostModel,f=u.get("animationDuration");J(f)&&(f=f(null));var c=u.get("animationDelay")||0,v=J(c)?c(null):c;t.eachItemGraphicEl(function(h,p){var m=h;if(m){var b=[h.x,h.y],g=void 0,d=void 0,y=void 0;if(r)if(o){var _=r,A=a.pointToCoord(b);i?(g=_.startAngle,d=_.endAngle,y=-A[1]/180*Math.PI):(g=_.r0,d=_.r,y=A[0])}else{var S=r;i?(g=S.x,d=S.x+S.width,y=h.x):(g=S.y+S.height,d=S.y,y=h.y)}var x=d===g?0:(y-g)/(d-g);l&&(x=1-x);var w=J(c)?c(p):f*x+v,T=m.getSymbolPath(),D=T.getTextContent();m.attr({scaleX:0,scaleY:0}),m.animateTo({scaleX:1,scaleY:1},{duration:200,setToFinal:!0,delay:w}),D&&D.animateFrom({style:{opacity:0}},{duration:300,delay:w}),T.disableLabelAnimation=!0}})},e.prototype._initOrUpdateEndLabel=function(t,a,r){var i=t.getModel("endLabel");if(ga(t)){var o=t.getData(),s=this._polyline,l=o.getLayout("points");if(!l){s.removeTextContent(),this._endLabel=null;return}var u=this._endLabel;u||(u=this._endLabel=new Ht({z2:200}),u.ignoreClip=!0,s.setTextContent(this._endLabel),s.disableLabelAnimation=!0);var f=qn(l);f>=0&&(ta(s,ee(t,"endLabel"),{inheritColor:r,labelFetcher:t,labelDataIndex:f,defaultText:function(c,v,h){return h!=null?Wa(o,h):ea(o,c)},enableTextSetter:!0},jn(i,a)),s.textConfig.position=null)}else this._endLabel&&(this._polyline.removeTextContent(),this._endLabel=null)},e.prototype._endLabelOnDuring=function(t,a,r,i,o,s,l){var u=this._endLabel,f=this._polyline;if(u){t<1&&i.originalX==null&&(i.originalX=u.x,i.originalY=u.y);var c=r.getLayout("points"),v=r.hostModel,h=v.get("connectNulls"),p=s.get("precision"),m=s.get("distance")||0,b=l.getBaseAxis(),g=b.isHorizontal(),d=b.inverse,y=a.shape,_=d?g?y.x:y.y+y.height:g?y.x+y.width:y.y,A=(g?m:0)*(d?-1:1),S=(g?0:-m)*(d?-1:1),x=g?"x":"y",w=Kn(c,_,x),T=w.range,D=T[1]-T[0],M=void 0;if(D>=1){if(D>1&&!h){var I=Oe(c,T[0]);u.attr({x:I[0]+A,y:I[1]+S}),o&&(M=v.getRawValue(T[0]))}else{var I=f.getPointOn(_,x);I&&u.attr({x:I[0]+A,y:I[1]+S});var P=v.getRawValue(T[0]),L=v.getRawValue(T[1]);o&&(M=Ha(r,p,P,L,w.t))}i.lastFrameIndex=T[0]}else{var V=t===1||i.lastFrameIndex>0?T[0]:0,I=Oe(c,V);o&&(M=v.getRawValue(V)),u.attr({x:I[0]+A,y:I[1]+S})}if(o){var E=Ua(u);typeof E.setLabelText=="function"&&E.setLabelText(M)}}},e.prototype._doUpdateAnimation=function(t,a,r,i,o,s,l){var u=this._polyline,f=this._polygon,c=t.hostModel,v=Bn(this._data,t,this._stackedOnPoints,a,this._coordSys,r,this._valueOrigin),h=v.current,p=v.stackedOnCurrent,m=v.next,b=v.stackedOnNext;if(o&&(h=K(v.current,r,o,l),p=K(v.stackedOnCurrent,r,o,l),m=K(v.next,r,o,l),b=K(v.stackedOnNext,r,o,l)),Pe(h,m)>3e3||f&&Pe(p,b)>3e3){u.stopAnimation(),u.setShape({points:m}),f&&(f.stopAnimation(),f.setShape({points:m,stackedOnPoints:b}));return}u.shape.__points=v.current,u.shape.points=h;var g={shape:{points:m}};v.current!==h&&(g.shape.__points=v.next),u.stopAnimation(),At(u,g,c),f&&(f.setShape({points:h,stackedOnPoints:p}),f.stopAnimation(),At(f,{shape:{stackedOnPoints:b}},c),u.shape.points!==f.shape.points&&(f.shape.points=u.shape.points));for(var d=[],y=v.status,_=0;_<y.length;_++){var A=y[_].cmd;if(A==="="){var S=t.getItemGraphicEl(y[_].idx1);S&&d.push({el:S,ptIdx:_})}}u.animators&&u.animators.length&&u.animators[0].during(function(){f&&f.dirtyShape();for(var x=u.shape.__points,w=0;w<d.length;w++){var T=d[w].el,D=d[w].ptIdx*2;T.x=x[D],T.y=x[D+1],T.markRedraw()}})},e.prototype.remove=function(t){var a=this.group,r=this._data;this._lineGroup.removeAll(),this._symbolDraw.remove(!0),r&&r.eachItemGraphicEl(function(i,o){i.__temp&&(a.remove(i),r.setItemGraphicEl(o,null))}),this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._endLabel=this._data=null},e.type="line",e}(Pt);function Qn(n,e){return{seriesType:n,plan:ja(),reset:function(t){var a=t.getData(),r=t.coordinateSystem;if(t.pipelineContext,!!r){var i=z(r.dimensions,function(c){return a.mapDimension(c)}).slice(0,2),o=i.length,s=a.getCalculationInfo("stackResultDimension");Ct(a,i[0])&&(i[0]=s),Ct(a,i[1])&&(i[1]=s);var l=a.getStore(),u=a.getDimensionIndex(i[0]),f=a.getDimensionIndex(i[1]);return o&&{progress:function(c,v){for(var h=c.end-c.start,p=st(h*o),m=[],b=[],g=c.start,d=0;g<c.end;g++){var y=void 0;if(o===1){var _=l.get(u,g);y=r.dataToPoint(_,null,b)}else m[0]=l.get(u,g),m[1]=l.get(f,g),y=r.dataToPoint(m,null,b);p[d++]=y[0],p[d++]=y[1]}v.setLayout("points",p)}}}}}}function tr(n){n.registerChartView(Jn),n.registerSeriesModel(Ln),n.registerLayout(Qn("line")),n.registerVisual({seriesType:"line",reset:function(e){var t=e.getData(),a=e.getModel("lineStyle").getLineStyle();a&&!a.stroke&&(a.stroke=t.getVisual("style").fill),t.setVisual("legendLineStyle",a)}}),n.registerProcessor(n.PRIORITY.PROCESSOR.STATISTIC,Ja("line"))}var Re="\0_ec_interaction_mutex";function er(n,e,t){var a=da(n);a[e]=t}function ar(n,e,t){var a=da(n),r=a[e];r===t&&(a[e]=null)}function da(n){return n[Re]||(n[Re]={})}It({type:"takeGlobalCursor",event:"globalCursorTaken",update:"update"},Qa);var nr={axisPointer:1,tooltip:1,brush:1};function rr(n,e,t){var a=e.getComponentByElement(n.topTarget),r=a&&a.coordinateSystem;return a&&a!==t&&!nr.hasOwnProperty(a.mainType)&&r&&r.model!==t}function ma(n,e,t,a,r,i){n=n||0;var o=t[1]-t[0];if(r!=null&&(r=nt(r,[0,o])),i!=null&&(i=Math.max(i,r??0)),a==="all"){var s=Math.abs(e[1]-e[0]);s=nt(s,[0,o]),r=i=nt(s,[r,i]),a=0}e[0]=nt(e[0],t),e[1]=nt(e[1],t);var l=Et(e,a);e[a]+=n;var u=r||0,f=t.slice();l.sign<0?f[0]+=u:f[1]-=u,e[a]=nt(e[a],f);var c;return c=Et(e,a),r!=null&&(c.sign!==l.sign||c.span<r)&&(e[1-a]=e[a]+l.sign*r),c=Et(e,a),i!=null&&c.span>i&&(e[1-a]=e[a]+c.sign*i),e}function Et(n,e){var t=n[e]-n[1-e];return{span:Math.abs(t),sign:t>0?-1:t<0?1:e?-1:1}}function nt(n,e){return Math.min(e[1]!=null?e[1]:1/0,Math.max(e[0]!=null?e[0]:-1/0,n))}var tt=!0,yt=Math.min,ft=Math.max,ir=Math.pow,or=1e4,sr=6,lr=6,Le="globalPan",ur={w:[0,0],e:[0,1],n:[1,0],s:[1,1]},cr={w:"ew",e:"ew",n:"ns",s:"ns",ne:"nesw",sw:"nesw",nw:"nwse",se:"nwse"},Ee={brushStyle:{lineWidth:2,stroke:"rgba(210,219,238,0.3)",fill:"#D2DBEE"},transformable:!0,brushMode:"single",removeOnClick:!1},fr=0,vr=function(n){O(e,n);function e(t){var a=n.call(this)||this;return a._track=[],a._covers=[],a._handlers={},a._zr=t,a.group=new at,a._uid="brushController_"+fr++,C(br,function(r,i){this._handlers[i]=ae(r,this)},a),a}return e.prototype.enableBrush=function(t){return this._brushType&&this._doDisableBrush(),t.brushType&&this._doEnableBrush(t),this},e.prototype._doEnableBrush=function(t){var a=this._zr;this._enableGlobalPan||er(a,Le,this._uid),C(this._handlers,function(r,i){a.on(i,r)}),this._brushType=t.brushType,this._brushOption=U(j(Ee),t,!0)},e.prototype._doDisableBrush=function(){var t=this._zr;ar(t,Le,this._uid),C(this._handlers,function(a,r){t.off(r,a)}),this._brushType=this._brushOption=null},e.prototype.setPanels=function(t){if(t&&t.length){var a=this._panels={};C(t,function(r){a[r.panelId]=j(r)})}else this._panels=null;return this},e.prototype.mount=function(t){t=t||{},this._enableGlobalPan=t.enableGlobalPan;var a=this.group;return this._zr.add(a),a.attr({x:t.x||0,y:t.y||0,rotation:t.rotation||0,scaleX:t.scaleX||1,scaleY:t.scaleY||1}),this._transform=a.getLocalTransform(),this},e.prototype.updateCovers=function(t){t=z(t,function(v){return U(j(Ee),v,!0)});var a="\0-brush-index-",r=this._covers,i=this._covers=[],o=this,s=this._creatingCover;return new ra(r,t,u,l).add(f).update(f).remove(c).execute(),this;function l(v,h){return(v.id!=null?v.id:a+h)+"-"+v.brushType}function u(v,h){return l(v.__brushOption,h)}function f(v,h){var p=t[v];if(h!=null&&r[h]===s)i[v]=r[h];else{var m=i[v]=h!=null?(r[h].__brushOption=p,r[h]):ba(o,ya(o,p));re(o,m)}}function c(v){r[v]!==s&&o.group.remove(r[v])}},e.prototype.unmount=function(){return this.enableBrush(!1),Xt(this),this._zr.remove(this.group),this},e.prototype.dispose=function(){this.unmount(),this.off()},e}(tn);function ya(n,e){var t=Dt[e.brushType].createCover(n,e);return t.__brushOption=e,Sa(t,e),n.group.add(t),t}function ba(n,e){var t=ie(e);return t.endCreating&&(t.endCreating(n,e),Sa(e,e.__brushOption)),e}function _a(n,e){var t=e.__brushOption;ie(e).updateCoverShape(n,e,t.range,t)}function Sa(n,e){var t=e.z;t==null&&(t=or),n.traverse(function(a){a.z=t,a.z2=t})}function re(n,e){ie(e).updateCommon(n,e),_a(n,e)}function ie(n){return Dt[n.__brushOption.brushType]}function oe(n,e,t){var a=n._panels;if(!a)return tt;var r,i=n._transform;return C(a,function(o){o.isTargetByCursor(e,t,i)&&(r=o)}),r}function xa(n,e){var t=n._panels;if(!t)return tt;var a=e.__brushOption.panelId;return a!=null?t[a]:tt}function Xt(n){var e=n._covers,t=e.length;return C(e,function(a){n.group.remove(a)},n),e.length=0,!!t}function et(n,e){var t=z(n._covers,function(a){var r=a.__brushOption,i=j(r.range);return{brushType:r.brushType,panelId:r.panelId,range:i}});n.trigger("brush",{areas:t,isEnd:!!e.isEnd,removeOnClick:!!e.removeOnClick})}function hr(n){var e=n._track;if(!e.length)return!1;var t=e[e.length-1],a=e[0],r=t[0]-a[0],i=t[1]-a[1],o=ir(r*r+i*i,.5);return o>sr}function Aa(n){var e=n.length-1;return e<0&&(e=0),[n[0],n[e]]}function Ca(n,e,t,a){var r=new at;return r.add(new _e({name:"main",style:se(t),silent:!0,draggable:!0,cursor:"move",drift:G(Ne,n,e,r,["n","s","w","e"]),ondragend:G(et,e,{isEnd:!0})})),C(a,function(i){r.add(new _e({name:i.join(""),style:{opacity:0},draggable:!0,silent:!0,invisible:!0,drift:G(Ne,n,e,r,i),ondragend:G(et,e,{isEnd:!0})}))}),r}function wa(n,e,t,a){var r=a.brushStyle.lineWidth||0,i=ft(r,lr),o=t[0][0],s=t[1][0],l=o-r/2,u=s-r/2,f=t[0][1],c=t[1][1],v=f-i+r/2,h=c-i+r/2,p=f-o,m=c-s,b=p+r,g=m+r;H(n,e,"main",o,s,p,m),a.transformable&&(H(n,e,"w",l,u,i,g),H(n,e,"e",v,u,i,g),H(n,e,"n",l,u,b,i),H(n,e,"s",l,h,b,i),H(n,e,"nw",l,u,i,i),H(n,e,"ne",v,u,i,i),H(n,e,"sw",l,h,i,i),H(n,e,"se",v,h,i,i))}function Yt(n,e){var t=e.__brushOption,a=t.transformable,r=e.childAt(0);r.useStyle(se(t)),r.attr({silent:!a,cursor:a?"move":"default"}),C([["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]],function(i){var o=e.childOfName(i.join("")),s=i.length===1?qt(n,i[0]):gr(n,i);o&&o.attr({silent:!a,invisible:!a,cursor:a?cr[s]+"-resize":null})})}function H(n,e,t,a,r,i,o){var s=e.childOfName(t);s&&s.setShape(mr(le(n,e,[[a,r],[a+i,r+o]])))}function se(n){return ut({strokeNoScale:!0},n.brushStyle)}function Ta(n,e,t,a){var r=[yt(n,t),yt(e,a)],i=[ft(n,t),ft(e,a)];return[[r[0],i[0]],[r[1],i[1]]]}function pr(n){return ia(n.group)}function qt(n,e){var t={w:"left",e:"right",n:"top",s:"bottom"},a={left:"w",right:"e",top:"n",bottom:"s"},r=nn(t[e],pr(n));return a[r]}function gr(n,e){var t=[qt(n,e[0]),qt(n,e[1])];return(t[0]==="e"||t[0]==="w")&&t.reverse(),t.join("")}function Ne(n,e,t,a,r,i){var o=t.__brushOption,s=n.toRectRange(o.range),l=Ia(e,r,i);C(a,function(u){var f=ur[u];s[f[0]][f[1]]+=l[f[0]]}),o.range=n.fromRectRange(Ta(s[0][0],s[1][0],s[0][1],s[1][1])),re(e,t),et(e,{isEnd:!1})}function dr(n,e,t,a){var r=e.__brushOption.range,i=Ia(n,t,a);C(r,function(o){o[0]+=i[0],o[1]+=i[1]}),re(n,e),et(n,{isEnd:!1})}function Ia(n,e,t){var a=n.group,r=a.transformCoordToLocal(e,t),i=a.transformCoordToLocal(0,0);return[r[0]-i[0],r[1]-i[1]]}function le(n,e,t){var a=xa(n,e);return a&&a!==tt?a.clipPath(t,n._transform):j(t)}function mr(n){var e=yt(n[0][0],n[1][0]),t=yt(n[0][1],n[1][1]),a=ft(n[0][0],n[1][0]),r=ft(n[0][1],n[1][1]);return{x:e,y:t,width:a-e,height:r-t}}function yr(n,e,t){if(!(!n._brushType||_r(n,e.offsetX,e.offsetY))){var a=n._zr,r=n._covers,i=oe(n,e,t);if(!n._dragging)for(var o=0;o<r.length;o++){var s=r[o].__brushOption;if(i&&(i===tt||s.panelId===i.panelId)&&Dt[s.brushType].contain(r[o],t[0],t[1]))return}i&&a.setCursorStyle("crosshair")}}function Kt(n){var e=n.event;e.preventDefault&&e.preventDefault()}function jt(n,e,t){return n.childOfName("main").contain(e,t)}function Da(n,e,t,a){var r=n._creatingCover,i=n._creatingPanel,o=n._brushOption,s;if(n._track.push(t.slice()),hr(n)||r){if(i&&!r){o.brushMode==="single"&&Xt(n);var l=j(o);l.brushType=Ve(l.brushType,i),l.panelId=i===tt?null:i.panelId,r=n._creatingCover=ya(n,l),n._covers.push(r)}if(r){var u=Dt[Ve(n._brushType,i)],f=r.__brushOption;f.range=u.getCreatingRange(le(n,r,n._track)),a&&(ba(n,r),u.updateCommon(n,r)),_a(n,r),s={isEnd:a}}}else a&&o.brushMode==="single"&&o.removeOnClick&&oe(n,e,t)&&Xt(n)&&(s={isEnd:a,removeOnClick:!0});return s}function Ve(n,e){return n==="auto"?e.defaultBrushType:n}var br={mousedown:function(n){if(this._dragging)ze(this,n);else if(!n.target||!n.target.draggable){Kt(n);var e=this.group.transformCoordToLocal(n.offsetX,n.offsetY);this._creatingCover=null;var t=this._creatingPanel=oe(this,n,e);t&&(this._dragging=!0,this._track=[e.slice()])}},mousemove:function(n){var e=n.offsetX,t=n.offsetY,a=this.group.transformCoordToLocal(e,t);if(yr(this,n,a),this._dragging){Kt(n);var r=Da(this,n,a,!1);r&&et(this,r)}},mouseup:function(n){ze(this,n)}};function ze(n,e){if(n._dragging){Kt(e);var t=e.offsetX,a=e.offsetY,r=n.group.transformCoordToLocal(t,a),i=Da(n,e,r,!0);n._dragging=!1,n._track=[],n._creatingCover=null,i&&et(n,i)}}function _r(n,e,t){var a=n._zr;return e<0||e>a.getWidth()||t<0||t>a.getHeight()}var Dt={lineX:Be(0),lineY:Be(1),rect:{createCover:function(n,e){function t(a){return a}return Ca({toRectRange:t,fromRectRange:t},n,e,[["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]])},getCreatingRange:function(n){var e=Aa(n);return Ta(e[1][0],e[1][1],e[0][0],e[0][1])},updateCoverShape:function(n,e,t,a){wa(n,e,t,a)},updateCommon:Yt,contain:jt},polygon:{createCover:function(n,e){var t=new at;return t.add(new en({name:"main",style:se(e),silent:!0})),t},getCreatingRange:function(n){return n},endCreating:function(n,e){e.remove(e.childAt(0)),e.add(new an({name:"main",draggable:!0,drift:G(dr,n,e),ondragend:G(et,n,{isEnd:!0})}))},updateCoverShape:function(n,e,t,a){e.childAt(0).setShape({points:le(n,e,t)})},updateCommon:Yt,contain:jt}};function Be(n){return{createCover:function(e,t){return Ca({toRectRange:function(a){var r=[a,[0,100]];return n&&r.reverse(),r},fromRectRange:function(a){return a[n]}},e,t,[[["w"],["e"]],[["n"],["s"]]][n])},getCreatingRange:function(e){var t=Aa(e),a=yt(t[0][n],t[1][n]),r=ft(t[0][n],t[1][n]);return[a,r]},updateCoverShape:function(e,t,a,r){var i,o=xa(e,t);if(o!==tt&&o.getLinearBrushOtherExtent)i=o.getLinearBrushOtherExtent(n);else{var s=e._zr;i=[0,[s.getWidth(),s.getHeight()][1-n]]}var l=[a,i];n&&l.reverse(),wa(e,t,l,r)},updateCommon:Yt,contain:jt}}function Sr(n){return n=ue(n),function(e){return rn(e,n)}}function xr(n,e){return n=ue(n),function(t){var a=e??t,r=a?n.width:n.height,i=a?n.x:n.y;return[i,i+(r||0)]}}function Ar(n,e,t){var a=ue(n);return function(r,i){return a.contain(i[0],i[1])&&!rr(r,e,t)}}function ue(n){return on.create(n)}var Ze=["x","y","radius","angle","single"],Cr=["cartesian2d","polar","singleAxis"];function wr(n){var e=n.get("coordinateSystem");return ct(Cr,e)>=0}function lt(n){return n+"Axis"}function Tr(n,e){var t=mt(),a=[],r=mt();n.eachComponent({mainType:"dataZoom",query:e},function(f){r.get(f.uid)||s(f)});var i;do i=!1,n.eachComponent("dataZoom",o);while(i);function o(f){!r.get(f.uid)&&l(f)&&(s(f),i=!0)}function s(f){r.set(f.uid,!0),a.push(f),u(f)}function l(f){var c=!1;return f.eachTargetAxis(function(v,h){var p=t.get(v);p&&p[h]&&(c=!0)}),c}function u(f){f.eachTargetAxis(function(c,v){(t.get(c)||t.set(c,[]))[v]=!0})}return a}var Nt=function(){function n(){this.indexList=[],this.indexMap=[]}return n.prototype.add=function(e){this.indexMap[e]||(this.indexList.push(e),this.indexMap[e]=!0)},n}(),Ir=function(n){O(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t._autoThrottle=!0,t._noTarget=!0,t._rangePropMode=["percent","percent"],t}return e.prototype.init=function(t,a,r){var i=Fe(t);this.settledOption=i,this.mergeDefaultAndTheme(t,r),this._doInit(i)},e.prototype.mergeOption=function(t){var a=Fe(t);U(this.option,t,!0),U(this.settledOption,a,!0),this._doInit(a)},e.prototype._doInit=function(t){var a=this.option;this._setDefaultThrottle(t),this._updateRangeUse(t);var r=this.settledOption;C([["start","startValue"],["end","endValue"]],function(i,o){this._rangePropMode[o]==="value"&&(a[i[0]]=r[i[0]]=null)},this),this._resetTarget()},e.prototype._resetTarget=function(){var t=this.get("orient",!0),a=this._targetAxisInfoMap=mt(),r=this._fillSpecifiedTargetAxis(a);r?this._orient=t||this._makeAutoOrientByTargetAxis():(this._orient=t||"horizontal",this._fillAutoTargetAxisByOrient(a,this._orient)),this._noTarget=!0,a.each(function(i){i.indexList.length&&(this._noTarget=!1)},this)},e.prototype._fillSpecifiedTargetAxis=function(t){var a=!1;return C(Ze,function(r){var i=this.getReferringComponents(lt(r),sn);if(i.specified){a=!0;var o=new Nt;C(i.models,function(s){o.add(s.componentIndex)}),t.set(r,o)}},this),a},e.prototype._fillAutoTargetAxisByOrient=function(t,a){var r=this.ecModel,i=!0;if(i){var o=a==="vertical"?"y":"x",s=r.findComponents({mainType:o+"Axis"});l(s,o)}if(i){var s=r.findComponents({mainType:"singleAxis",filter:function(f){return f.get("orient",!0)===a}});l(s,"single")}function l(u,f){var c=u[0];if(c){var v=new Nt;if(v.add(c.componentIndex),t.set(f,v),i=!1,f==="x"||f==="y"){var h=c.getReferringComponents("grid",wt).models[0];h&&C(u,function(p){c.componentIndex!==p.componentIndex&&h===p.getReferringComponents("grid",wt).models[0]&&v.add(p.componentIndex)})}}}i&&C(Ze,function(u){if(i){var f=r.findComponents({mainType:lt(u),filter:function(v){return v.get("type",!0)==="category"}});if(f[0]){var c=new Nt;c.add(f[0].componentIndex),t.set(u,c),i=!1}}},this)},e.prototype._makeAutoOrientByTargetAxis=function(){var t;return this.eachTargetAxis(function(a){!t&&(t=a)},this),t==="y"?"vertical":"horizontal"},e.prototype._setDefaultThrottle=function(t){if(t.hasOwnProperty("throttle")&&(this._autoThrottle=!1),this._autoThrottle){var a=this.ecModel.option;this.option.throttle=a.animation&&a.animationDurationUpdate>0?100:20}},e.prototype._updateRangeUse=function(t){var a=this._rangePropMode,r=this.get("rangeMode");C([["start","startValue"],["end","endValue"]],function(i,o){var s=t[i[0]]!=null,l=t[i[1]]!=null;s&&!l?a[o]="percent":!s&&l?a[o]="value":r?a[o]=r[o]:s&&(a[o]="percent")})},e.prototype.noTarget=function(){return this._noTarget},e.prototype.getFirstTargetAxisModel=function(){var t;return this.eachTargetAxis(function(a,r){t==null&&(t=this.ecModel.getComponent(lt(a),r))},this),t},e.prototype.eachTargetAxis=function(t,a){this._targetAxisInfoMap.each(function(r,i){C(r.indexList,function(o){t.call(a,i,o)})})},e.prototype.getAxisProxy=function(t,a){var r=this.getAxisModel(t,a);if(r)return r.__dzAxisProxy},e.prototype.getAxisModel=function(t,a){var r=this._targetAxisInfoMap.get(t);if(r&&r.indexMap[a])return this.ecModel.getComponent(lt(t),a)},e.prototype.setRawRange=function(t){var a=this.option,r=this.settledOption;C([["start","startValue"],["end","endValue"]],function(i){(t[i[0]]!=null||t[i[1]]!=null)&&(a[i[0]]=r[i[0]]=t[i[0]],a[i[1]]=r[i[1]]=t[i[1]])},this),this._updateRangeUse(t)},e.prototype.setCalculatedRange=function(t){var a=this.option;C(["start","startValue","end","endValue"],function(r){a[r]=t[r]})},e.prototype.getPercentRange=function(){var t=this.findRepresentativeAxisProxy();if(t)return t.getDataPercentWindow()},e.prototype.getValueRange=function(t,a){if(t==null&&a==null){var r=this.findRepresentativeAxisProxy();if(r)return r.getDataValueWindow()}else return this.getAxisProxy(t,a).getDataValueWindow()},e.prototype.findRepresentativeAxisProxy=function(t){if(t)return t.__dzAxisProxy;for(var a,r=this._targetAxisInfoMap.keys(),i=0;i<r.length;i++)for(var o=r[i],s=this._targetAxisInfoMap.get(o),l=0;l<s.indexList.length;l++){var u=this.getAxisProxy(o,s.indexList[l]);if(u.hostedBy(this))return u;a||(a=u)}return a},e.prototype.getRangePropMode=function(){return this._rangePropMode.slice()},e.prototype.getOrient=function(){return this._orient},e.type="dataZoom",e.dependencies=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","series","toolbox"],e.defaultOption={z:4,filterMode:"filter",start:0,end:100},e}(oa);function Fe(n){var e={};return C(["start","end","startValue","endValue","throttle"],function(t){n.hasOwnProperty(t)&&(e[t]=n[t])}),e}var Dr=function(n){O(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.type="dataZoom.select",e}(Ir),Mr=function(n){O(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,a,r,i){this.dataZoomModel=t,this.ecModel=a,this.api=r},e.type="dataZoom",e}(sa),Pr=function(n){O(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.type="dataZoom.select",e}(Mr),ot=C,Ge=fn,kr=function(){function n(e,t,a,r){this._dimName=e,this._axisIndex=t,this.ecModel=r,this._dataZoomModel=a}return n.prototype.hostedBy=function(e){return this._dataZoomModel===e},n.prototype.getDataValueWindow=function(){return this._valueWindow.slice()},n.prototype.getDataPercentWindow=function(){return this._percentWindow.slice()},n.prototype.getTargetSeriesModels=function(){var e=[];return this.ecModel.eachSeries(function(t){if(wr(t)){var a=lt(this._dimName),r=t.getReferringComponents(a,wt).models[0];r&&this._axisIndex===r.componentIndex&&e.push(t)}},this),e},n.prototype.getAxisModel=function(){return this.ecModel.getComponent(this._dimName+"Axis",this._axisIndex)},n.prototype.getMinMaxSpan=function(){return j(this._minMaxSpan)},n.prototype.calculateDataWindow=function(e){var t=this._dataExtent,a=this.getAxisModel(),r=a.axis.scale,i=this._dataZoomModel.getRangePropMode(),o=[0,100],s=[],l=[],u;ot(["start","end"],function(v,h){var p=e[v],m=e[v+"Value"];i[h]==="percent"?(p==null&&(p=o[h]),m=r.parse(pt(p,o,t))):(u=!0,m=m==null?t[h]:r.parse(m),p=pt(m,t,o)),l[h]=m==null||isNaN(m)?t[h]:m,s[h]=p==null||isNaN(p)?o[h]:p}),Ge(l),Ge(s);var f=this._minMaxSpan;u?c(l,s,t,o,!1):c(s,l,o,t,!0);function c(v,h,p,m,b){var g=b?"Span":"ValueSpan";ma(0,v,p,"all",f["min"+g],f["max"+g]);for(var d=0;d<2;d++)h[d]=pt(v[d],p,m,!0),b&&(h[d]=r.parse(h[d]))}return{valueWindow:l,percentWindow:s}},n.prototype.reset=function(e){if(e===this._dataZoomModel){var t=this.getTargetSeriesModels();this._dataExtent=Or(this,this._dimName,t),this._updateMinMaxSpan();var a=this.calculateDataWindow(e.settledOption);this._valueWindow=a.valueWindow,this._percentWindow=a.percentWindow,this._setAxisModel()}},n.prototype.filterData=function(e,t){if(e!==this._dataZoomModel)return;var a=this._dimName,r=this.getTargetSeriesModels(),i=e.get("filterMode"),o=this._valueWindow;if(i==="none")return;ot(r,function(l){var u=l.getData(),f=u.mapDimensionsAll(a);if(f.length){if(i==="weakFilter"){var c=u.getStore(),v=z(f,function(h){return u.getDimensionIndex(h)},u);u.filterSelf(function(h){for(var p,m,b,g=0;g<f.length;g++){var d=c.get(v[g],h),y=!isNaN(d),_=d<o[0],A=d>o[1];if(y&&!_&&!A)return!0;y&&(b=!0),_&&(p=!0),A&&(m=!0)}return b&&p&&m})}else ot(f,function(h){if(i==="empty")l.setData(u=u.map(h,function(m){return s(m)?m:NaN}));else{var p={};p[h]=o,u.selectRange(p)}});ot(f,function(h){u.setApproximateExtent(o,h)})}});function s(l){return l>=o[0]&&l<=o[1]}},n.prototype._updateMinMaxSpan=function(){var e=this._minMaxSpan={},t=this._dataZoomModel,a=this._dataExtent;ot(["min","max"],function(r){var i=t.get(r+"Span"),o=t.get(r+"ValueSpan");o!=null&&(o=this.getAxisModel().axis.scale.parse(o)),o!=null?i=pt(a[0]+o,a,[0,100],!0):i!=null&&(o=pt(i,[0,100],a,!0)-a[0]),e[r+"Span"]=i,e[r+"ValueSpan"]=o},this)},n.prototype._setAxisModel=function(){var e=this.getAxisModel(),t=this._percentWindow,a=this._valueWindow;if(t){var r=ln(a,[0,500]);r=Math.min(r,20);var i=e.axis.scale.rawExtentInfo;t[0]!==0&&i.setDeterminedMinMax("min",+a[0].toFixed(r)),t[1]!==100&&i.setDeterminedMinMax("max",+a[1].toFixed(r)),i.freeze()}},n}();function Or(n,e,t){var a=[1/0,-1/0];ot(t,function(o){un(a,o.getData(),e)});var r=n.getAxisModel(),i=cn(r.axis.scale,r,a).calculate();return[i.min,i.max]}var Rr={getTargetSeries:function(n){function e(r){n.eachComponent("dataZoom",function(i){i.eachTargetAxis(function(o,s){var l=n.getComponent(lt(o),s);r(o,s,l,i)})})}e(function(r,i,o,s){o.__dzAxisProxy=null});var t=[];e(function(r,i,o,s){o.__dzAxisProxy||(o.__dzAxisProxy=new kr(r,i,s,n),t.push(o.__dzAxisProxy))});var a=mt();return C(t,function(r){C(r.getTargetSeriesModels(),function(i){a.set(i.uid,i)})}),a},overallReset:function(n,e){n.eachComponent("dataZoom",function(t){t.eachTargetAxis(function(a,r){t.getAxisProxy(a,r).reset(t)}),t.eachTargetAxis(function(a,r){t.getAxisProxy(a,r).filterData(t,e)})}),n.eachComponent("dataZoom",function(t){var a=t.findRepresentativeAxisProxy();if(a){var r=a.getDataPercentWindow(),i=a.getDataValueWindow();t.setCalculatedRange({start:r[0],end:r[1],startValue:i[0],endValue:i[1]})}})}};function Lr(n){n.registerAction("dataZoom",function(e,t){var a=Tr(t,e);C(a,function(r){r.setRawRange({start:e.start,end:e.end,startValue:e.startValue,endValue:e.endValue})})})}var We=!1;function Er(n){We||(We=!0,n.registerProcessor(n.PRIORITY.PROCESSOR.FILTER,Rr),Lr(n),n.registerSubTypeDefaulter("dataZoom",function(){return"slider"}))}function Nr(n){n.registerComponentModel(Dr),n.registerComponentView(Pr),Er(n)}var F=function(){function n(){}return n}(),Ma={};function dt(n,e){Ma[n]=e}function Pa(n){return Ma[n]}var Vr=function(n){O(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.optionUpdated=function(){n.prototype.optionUpdated.apply(this,arguments);var t=this.ecModel;C(this.option.feature,function(a,r){var i=Pa(r);i&&(i.getDefaultOption&&(i.defaultOption=i.getDefaultOption(t)),U(a,i.defaultOption))})},e.type="toolbox",e.layoutMode={type:"box",ignoreSize:!0},e.defaultOption={show:!0,z:6,orient:"horizontal",left:"right",top:"top",backgroundColor:"transparent",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemSize:15,itemGap:8,showTitle:!0,iconStyle:{borderColor:"#666",color:"none"},emphasis:{iconStyle:{borderColor:"#3E98C5"}},tooltip:{show:!1,position:"bottom"}},e}(oa),zr=function(n){O(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.render=function(t,a,r,i){var o=this.group;if(o.removeAll(),!t.get("show"))return;var s=+t.get("itemSize"),l=t.get("orient")==="vertical",u=t.get("feature")||{},f=this._features||(this._features={}),c=[];C(u,function(p,m){c.push(m)}),new ra(this._featureNames||[],c).add(v).update(v).remove(G(v,null)).execute(),this._featureNames=c;function v(p,m){var b=c[p],g=c[m],d=u[b],y=new vn(d,t,t.ecModel),_;if(i&&i.newTitle!=null&&i.featureName===b&&(d.title=i.newTitle),b&&!g){if(Br(b))_={onclick:y.option.onclick,featureName:b};else{var A=Pa(b);if(!A)return;_=new A}f[b]=_}else if(_=f[g],!_)return;_.uid=hn("toolbox-feature"),_.model=y,_.ecModel=a,_.api=r;var S=_ instanceof F;if(!b&&g){S&&_.dispose&&_.dispose(a,r);return}if(!y.get("show")||S&&_.unusable){S&&_.remove&&_.remove(a,r);return}h(y,_,b),y.setIconStatus=function(x,w){var T=this.option,D=this.iconPaths;T.iconStatus=T.iconStatus||{},T.iconStatus[x]=w,D[x]&&(w==="emphasis"?Bt:Zt)(D[x])},_ instanceof F&&_.render&&_.render(y,a,r,i)}function h(p,m,b){var g=p.getModel("iconStyle"),d=p.getModel(["emphasis","iconStyle"]),y=m instanceof F&&m.getIcons?m.getIcons():p.get("icon"),_=p.get("title")||{},A,S;Ut(y)?(A={},A[b]=y):A=y,Ut(_)?(S={},S[b]=_):S=_;var x=p.iconPaths={};C(A,function(w,T){var D=pn(w,{},{x:-s/2,y:-s/2,width:s,height:s});D.setStyle(g.getItemStyle());var M=D.ensureState("emphasis");M.style=d.getItemStyle();var I=new Ht({style:{text:S[T],align:d.get("textAlign"),borderRadius:d.get("textBorderRadius"),padding:d.get("textPadding"),fill:null,font:gn({fontStyle:d.get("textFontStyle"),fontFamily:d.get("textFontFamily"),fontSize:d.get("textFontSize"),fontWeight:d.get("textFontWeight")},a)},ignore:!0});D.setTextContent(I),dn({el:D,componentModel:t,itemName:T,formatterParamsExtra:{title:S[T]}}),D.__title=S[T],D.on("mouseover",function(){var P=d.getItemStyle(),L=l?t.get("right")==null&&t.get("left")!=="right"?"right":"left":t.get("bottom")==null&&t.get("top")!=="bottom"?"bottom":"top";I.setStyle({fill:d.get("textFill")||P.fill||P.stroke||"#000",backgroundColor:d.get("textBackgroundColor")}),D.setTextConfig({position:d.get("textPosition")||L}),I.ignore=!t.get("showTitle"),r.enterEmphasis(this)}).on("mouseout",function(){p.get(["iconStatus",T])!=="emphasis"&&r.leaveEmphasis(this),I.hide()}),(p.get(["iconStatus",T])==="emphasis"?Bt:Zt)(D),o.add(D),D.on("click",ae(m.onclick,m,a,r,T)),x[T]=D})}mn(o,t,r),o.add(yn(o.getBoundingRect(),t)),l||o.eachChild(function(p){var m=p.__title,b=p.ensureState("emphasis"),g=b.textConfig||(b.textConfig={}),d=p.getTextContent(),y=d&&d.ensureState("emphasis");if(y&&!J(y)&&m){var _=y.style||(y.style={}),A=bn(m,Ht.makeFont(_)),S=p.x+o.x,x=p.y+o.y+s,w=!1;x+A.height>r.getHeight()&&(g.position="top",w=!0);var T=w?-5-A.height:s+10;S+A.width/2>r.getWidth()?(g.position=["100%",T],_.align="right"):S-A.width/2<0&&(g.position=[0,T],_.align="left")}})},e.prototype.updateView=function(t,a,r,i){C(this._features,function(o){o instanceof F&&o.updateView&&o.updateView(o.model,a,r,i)})},e.prototype.remove=function(t,a){C(this._features,function(r){r instanceof F&&r.remove&&r.remove(t,a)}),this.group.removeAll()},e.prototype.dispose=function(t,a){C(this._features,function(r){r instanceof F&&r.dispose&&r.dispose(t,a)})},e.type="toolbox",e}(sa);function Br(n){return n.indexOf("my")===0}var Zr=function(n){O(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.onclick=function(t,a){var r=this.model,i=r.get("name")||t.get("title.0.text")||"echarts",o=a.getZr().painter.getType()==="svg",s=o?"svg":r.get("type",!0)||"png",l=a.getConnectedDataURL({type:s,backgroundColor:r.get("backgroundColor",!0)||t.get("backgroundColor")||"#fff",connectedBackgroundColor:r.get("connectedBackgroundColor"),excludeComponents:r.get("excludeComponents"),pixelRatio:r.get("pixelRatio")}),u=_n.browser;if(J(MouseEvent)&&(u.newEdge||!u.ie&&!u.edge)){var f=document.createElement("a");f.download=i+"."+s,f.target="_blank",f.href=l;var c=new MouseEvent("click",{view:document.defaultView,bubbles:!0,cancelable:!1});f.dispatchEvent(c)}else if(window.navigator.msSaveOrOpenBlob||o){var v=l.split(","),h=v[0].indexOf("base64")>-1,p=o?decodeURIComponent(v[1]):v[1];h&&(p=window.atob(p));var m=i+"."+s;if(window.navigator.msSaveOrOpenBlob){for(var b=p.length,g=new Uint8Array(b);b--;)g[b]=p.charCodeAt(b);var d=new Blob([g]);window.navigator.msSaveOrOpenBlob(d,m)}else{var y=document.createElement("iframe");document.body.appendChild(y);var _=y.contentWindow,A=_.document;A.open("image/svg+xml","replace"),A.write(p),A.close(),_.focus(),A.execCommand("SaveAs",!0,m),document.body.removeChild(y)}}else{var S=r.get("lang"),x='<body style="margin:0;"><img src="'+l+'" style="max-width:100%;" title="'+(S&&S[0]||"")+'" /></body>',w=window.open();w.document.write(x),w.document.title=i}},e.getDefaultOption=function(t){var a={show:!0,icon:"M4.7,22.9L29.3,45.5L54.7,23.4M4.6,43.6L4.6,58L53.8,58L53.8,43.6M29.2,45.1L29.2,0",title:t.getLocaleModel().get(["toolbox","saveAsImage","title"]),type:"png",connectedBackgroundColor:"#fff",name:"",excludeComponents:["toolbox"],lang:t.getLocaleModel().get(["toolbox","saveAsImage","lang"])};return a},e}(F),He="__ec_magicType_stack__",Fr=[["line","bar"],["stack"]],Gr=function(n){O(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.getIcons=function(){var t=this.model,a=t.get("icon"),r={};return C(t.get("type"),function(i){a[i]&&(r[i]=a[i])}),r},e.getDefaultOption=function(t){var a={show:!0,type:[],icon:{line:"M4.1,28.9h7.1l9.3-22l7.4,38l9.7-19.7l3,12.8h14.9M4.1,58h51.4",bar:"M6.7,22.9h10V48h-10V22.9zM24.9,13h10v35h-10V13zM43.2,2h10v46h-10V2zM3.1,58h53.7",stack:"M8.2,38.4l-8.4,4.1l30.6,15.3L60,42.5l-8.1-4.1l-21.5,11L8.2,38.4z M51.9,30l-8.1,4.2l-13.4,6.9l-13.9-6.9L8.2,30l-8.4,4.2l8.4,4.2l22.2,11l21.5-11l8.1-4.2L51.9,30z M51.9,21.7l-8.1,4.2L35.7,30l-5.3,2.8L24.9,30l-8.4-4.1l-8.3-4.2l-8.4,4.2L8.2,30l8.3,4.2l13.9,6.9l13.4-6.9l8.1-4.2l8.1-4.1L51.9,21.7zM30.4,2.2L-0.2,17.5l8.4,4.1l8.3,4.2l8.4,4.2l5.5,2.7l5.3-2.7l8.1-4.2l8.1-4.2l8.1-4.1L30.4,2.2z"},title:t.getLocaleModel().get(["toolbox","magicType","title"]),option:{},seriesIndex:{}};return a},e.prototype.onclick=function(t,a,r){var i=this.model,o=i.get(["seriesIndex",r]);if(Ue[r]){var s={series:[]},l=function(c){var v=c.subType,h=c.id,p=Ue[r](v,h,c,i);p&&(ut(p,c.option),s.series.push(p));var m=c.coordinateSystem;if(m&&m.type==="cartesian2d"&&(r==="line"||r==="bar")){var b=m.getAxesByScale("ordinal")[0];if(b){var g=b.dim,d=g+"Axis",y=c.getReferringComponents(d,wt).models[0],_=y.componentIndex;s[d]=s[d]||[];for(var A=0;A<=_;A++)s[d][_]=s[d][_]||{};s[d][_].boundaryGap=r==="bar"}}};C(Fr,function(c){ct(c,r)>=0&&C(c,function(v){i.setIconStatus(v,"normal")})}),i.setIconStatus(r,"emphasis"),t.eachComponent({mainType:"series",query:o==null?null:{seriesIndex:o}},l);var u,f=r;r==="stack"&&(u=U({stack:i.option.title.tiled,tiled:i.option.title.stack},i.option.title),i.get(["iconStatus",r])!=="emphasis"&&(f="tiled")),a.dispatchAction({type:"changeMagicType",currentType:f,newOption:s,newTitle:u,featureName:"magicType"})}},e}(F),Ue={line:function(n,e,t,a){if(n==="bar")return U({id:e,type:"line",data:t.get("data"),stack:t.get("stack"),markPoint:t.get("markPoint"),markLine:t.get("markLine")},a.get(["option","line"])||{},!0)},bar:function(n,e,t,a){if(n==="line")return U({id:e,type:"bar",data:t.get("data"),stack:t.get("stack"),markPoint:t.get("markPoint"),markLine:t.get("markLine")},a.get(["option","bar"])||{},!0)},stack:function(n,e,t,a){var r=t.get("stack")===He;if(n==="line"||n==="bar")return a.setIconStatus("stack",r?"normal":"emphasis"),U({id:e,stack:r?"":He},a.get(["option","stack"])||{},!0)}};It({type:"changeMagicType",event:"magicTypeChanged",update:"prepareAndUpdate"},function(n,e){e.mergeOption(n.newOption)});var Mt=new Array(60).join("-"),vt="	";function Wr(n){var e={},t=[],a=[];return n.eachRawSeries(function(r){var i=r.coordinateSystem;if(i&&(i.type==="cartesian2d"||i.type==="polar")){var o=i.getBaseAxis();if(o.type==="category"){var s=o.dim+"_"+o.index;e[s]||(e[s]={categoryAxis:o,valueAxis:i.getOtherAxis(o),series:[]},a.push({axisDim:o.dim,axisIndex:o.index})),e[s].series.push(r)}else t.push(r)}else t.push(r)}),{seriesGroupByCategoryAxis:e,other:t,meta:a}}function Hr(n){var e=[];return C(n,function(t,a){var r=t.categoryAxis,i=t.valueAxis,o=i.dim,s=[" "].concat(z(t.series,function(h){return h.name})),l=[r.model.getCategories()];C(t.series,function(h){var p=h.getRawData();l.push(h.getRawData().mapArray(p.mapDimension(o),function(m){return m}))});for(var u=[s.join(vt)],f=0;f<l[0].length;f++){for(var c=[],v=0;v<l.length;v++)c.push(l[v][f]);u.push(c.join(vt))}e.push(u.join(`
`))}),e.join(`

`+Mt+`

`)}function Ur(n){return z(n,function(e){var t=e.getRawData(),a=[e.name],r=[];return t.each(t.dimensions,function(){for(var i=arguments.length,o=arguments[i-1],s=t.getName(o),l=0;l<i-1;l++)r[l]=arguments[l];a.push((s?s+vt:"")+r.join(vt))}),a.join(`
`)}).join(`

`+Mt+`

`)}function $r(n){var e=Wr(n);return{value:xn([Hr(e.seriesGroupByCategoryAxis),Ur(e.other)],function(t){return!!t.replace(/[\n\t\s]/g,"")}).join(`

`+Mt+`

`),meta:e.meta}}function Tt(n){return n.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function Xr(n){var e=n.slice(0,n.indexOf(`
`));if(e.indexOf(vt)>=0)return!0}var Jt=new RegExp("["+vt+"]+","g");function Yr(n){for(var e=n.split(/\n+/g),t=Tt(e.shift()).split(Jt),a=[],r=z(t,function(l){return{name:l,data:[]}}),i=0;i<e.length;i++){var o=Tt(e[i]).split(Jt);a.push(o.shift());for(var s=0;s<o.length;s++)r[s]&&(r[s].data[i]=o[s])}return{series:r,categories:a}}function qr(n){for(var e=n.split(/\n+/g),t=Tt(e.shift()),a=[],r=0;r<e.length;r++){var i=Tt(e[r]);if(i){var o=i.split(Jt),s="",l=void 0,u=!1;isNaN(o[0])?(u=!0,s=o[0],o=o.slice(1),a[r]={name:s,value:[]},l=a[r].value):l=a[r]=[];for(var f=0;f<o.length;f++)l.push(+o[f]);l.length===1&&(u?a[r].value=l[0]:a[r]=l[0])}}return{name:t,data:a}}function Kr(n,e){var t=n.split(new RegExp(`
*`+Mt+`
*`,"g")),a={series:[]};return C(t,function(r,i){if(Xr(r)){var o=Yr(r),s=e[i],l=s.axisDim+"Axis";s&&(a[l]=a[l]||[],a[l][s.axisIndex]={data:o.categories},a.series=a.series.concat(o.series))}else{var o=qr(r);a.series.push(o)}}),a}var jr=function(n){O(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.onclick=function(t,a){setTimeout(function(){a.dispatchAction({type:"hideTip"})});var r=a.getDom(),i=this.model;this._dom&&r.removeChild(this._dom);var o=document.createElement("div");o.style.cssText="position:absolute;top:0;bottom:0;left:0;right:0;padding:5px",o.style.backgroundColor=i.get("backgroundColor")||"#fff";var s=document.createElement("h4"),l=i.get("lang")||[];s.innerHTML=l[0]||i.get("title"),s.style.cssText="margin:10px 20px",s.style.color=i.get("textColor");var u=document.createElement("div"),f=document.createElement("textarea");u.style.cssText="overflow:auto";var c=i.get("optionToContent"),v=i.get("contentToOption"),h=$r(t);if(J(c)){var p=c(a.getOption());Ut(p)?u.innerHTML=p:Sn(p)&&u.appendChild(p)}else{f.readOnly=i.get("readOnly");var m=f.style;m.cssText="display:block;width:100%;height:100%;font-family:monospace;font-size:14px;line-height:1.6rem;resize:none;box-sizing:border-box;outline:none",m.color=i.get("textColor"),m.borderColor=i.get("textareaBorderColor"),m.backgroundColor=i.get("textareaColor"),f.value=h.value,u.appendChild(f)}var b=h.meta,g=document.createElement("div");g.style.cssText="position:absolute;bottom:5px;left:0;right:0";var d="float:right;margin-right:20px;border:none;cursor:pointer;padding:2px 5px;font-size:12px;border-radius:3px",y=document.createElement("div"),_=document.createElement("div");d+=";background-color:"+i.get("buttonColor"),d+=";color:"+i.get("buttonTextColor");var A=this;function S(){r.removeChild(o),A._dom=null}Se(y,"click",S),Se(_,"click",function(){if(v==null&&c!=null||v!=null&&c==null){S();return}var x;try{J(v)?x=v(u,a.getOption()):x=Kr(f.value,b)}catch(w){throw S(),new Error("Data view format error "+w)}x&&a.dispatchAction({type:"changeDataView",newOption:x}),S()}),y.innerHTML=l[1],_.innerHTML=l[2],_.style.cssText=y.style.cssText=d,!i.get("readOnly")&&g.appendChild(_),g.appendChild(y),o.appendChild(s),o.appendChild(u),o.appendChild(g),u.style.height=r.clientHeight-80+"px",r.appendChild(o),this._dom=o},e.prototype.remove=function(t,a){this._dom&&a.getDom().removeChild(this._dom)},e.prototype.dispose=function(t,a){this.remove(t,a)},e.getDefaultOption=function(t){var a={show:!0,readOnly:!1,optionToContent:null,contentToOption:null,icon:"M17.5,17.3H33 M17.5,17.3H33 M45.4,29.5h-28 M11.5,2v56H51V14.8L38.4,2H11.5z M38.4,2.2v12.7H51 M45.4,41.7h-28",title:t.getLocaleModel().get(["toolbox","dataView","title"]),lang:t.getLocaleModel().get(["toolbox","dataView","lang"]),backgroundColor:"#fff",textColor:"#000",textareaColor:"#fff",textareaBorderColor:"#333",buttonColor:"#c23531",buttonTextColor:"#fff"};return a},e}(F);function Jr(n,e){return z(n,function(t,a){var r=e&&e[a];if(Wt(r)&&!xe(r)){var i=Wt(t)&&!xe(t);i||(t={value:t});var o=r.name!=null&&t.name==null;return t=ut(t,r),o&&delete t.name,t}else return t})}It({type:"changeDataView",event:"dataViewChanged",update:"prepareAndUpdate"},function(n,e){var t=[];C(n.newOption.series,function(a){var r=e.getSeriesByName(a.name)[0];if(!r)t.push(Ft({type:"scatter"},a));else{var i=r.get("data");t.push({name:a.name,data:Jr(a.data,i)})}}),e.mergeOption(ut({series:t},n.newOption))});var ka=C,Oa=An();function Qr(n,e){var t=ce(n);ka(e,function(a,r){for(var i=t.length-1;i>=0;i--){var o=t[i];if(o[r])break}if(i<0){var s=n.queryComponents({mainType:"dataZoom",subType:"select",id:r})[0];if(s){var l=s.getPercentRange();t[0][r]={dataZoomId:r,start:l[0],end:l[1]}}}}),t.push(e)}function ti(n){var e=ce(n),t=e[e.length-1];e.length>1&&e.pop();var a={};return ka(t,function(r,i){for(var o=e.length-1;o>=0;o--)if(r=e[o][i],r){a[i]=r;break}}),a}function ei(n){Oa(n).snapshots=null}function ai(n){return ce(n).length}function ce(n){var e=Oa(n);return e.snapshots||(e.snapshots=[{}]),e.snapshots}var ni=function(n){O(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.onclick=function(t,a){ei(t),a.dispatchAction({type:"restore",from:this.uid})},e.getDefaultOption=function(t){var a={show:!0,icon:"M3.8,33.4 M47,18.9h9.8V8.7 M56.3,20.1 C52.1,9,40.5,0.6,26.8,2.1C12.6,3.7,1.6,16.2,2.1,30.6 M13,41.1H3.1v10.2 M3.7,39.9c4.2,11.1,15.8,19.5,29.5,18 c14.2-1.6,25.2-14.1,24.7-28.5",title:t.getLocaleModel().get(["toolbox","restore","title"])};return a},e}(F);It({type:"restore",event:"restore",update:"prepareAndUpdate"},function(n,e){e.resetOption("recreate")});var ri=["grid","xAxis","yAxis","geo","graph","polar","radiusAxis","angleAxis","bmap"],Ra=function(){function n(e,t,a){var r=this;this._targetInfoList=[];var i=$e(t,e);C(ii,function(o,s){(!a||!a.include||ct(a.include,s)>=0)&&o(i,r._targetInfoList)})}return n.prototype.setOutputRanges=function(e,t){return this.matchOutputRanges(e,t,function(a,r,i){if((a.coordRanges||(a.coordRanges=[])).push(r),!a.coordRange){a.coordRange=r;var o=Vt[a.brushType](0,i,r);a.__rangeOffset={offset:Ke[a.brushType](o.values,a.range,[1,1]),xyMinMax:o.xyMinMax}}}),e},n.prototype.matchOutputRanges=function(e,t,a){C(e,function(r){var i=this.findTargetInfo(r,t);i&&i!==!0&&C(i.coordSyses,function(o){var s=Vt[r.brushType](1,o,r.range,!0);a(r,s.values,o,t)})},this)},n.prototype.setInputRanges=function(e,t){C(e,function(a){var r=this.findTargetInfo(a,t);if(a.range=a.range||[],r&&r!==!0){a.panelId=r.panelId;var i=Vt[a.brushType](0,r.coordSys,a.coordRange),o=a.__rangeOffset;a.range=o?Ke[a.brushType](i.values,o.offset,oi(i.xyMinMax,o.xyMinMax)):i.values}},this)},n.prototype.makePanelOpts=function(e,t){return z(this._targetInfoList,function(a){var r=a.getPanelRect();return{panelId:a.panelId,defaultBrushType:t?t(a):null,clipPath:Sr(r),isTargetByCursor:Ar(r,e,a.coordSysModel),getLinearBrushOtherExtent:xr(r)}})},n.prototype.controlSeries=function(e,t,a){var r=this.findTargetInfo(e,a);return r===!0||r&&ct(r.coordSyses,t.coordinateSystem)>=0},n.prototype.findTargetInfo=function(e,t){for(var a=this._targetInfoList,r=$e(t,e),i=0;i<a.length;i++){var o=a[i],s=e.panelId;if(s){if(o.panelId===s)return o}else for(var l=0;l<Xe.length;l++)if(Xe[l](r,o))return o}return!0},n}();function Qt(n){return n[0]>n[1]&&n.reverse(),n}function $e(n,e){return la(n,e,{includeMainTypes:ri})}var ii={grid:function(n,e){var t=n.xAxisModels,a=n.yAxisModels,r=n.gridModels,i=mt(),o={},s={};!t&&!a&&!r||(C(t,function(l){var u=l.axis.grid.model;i.set(u.id,u),o[u.id]=!0}),C(a,function(l){var u=l.axis.grid.model;i.set(u.id,u),s[u.id]=!0}),C(r,function(l){i.set(l.id,l),o[l.id]=!0,s[l.id]=!0}),i.each(function(l){var u=l.coordinateSystem,f=[];C(u.getCartesians(),function(c,v){(ct(t,c.getAxis("x").model)>=0||ct(a,c.getAxis("y").model)>=0)&&f.push(c)}),e.push({panelId:"grid--"+l.id,gridModel:l,coordSysModel:l,coordSys:f[0],coordSyses:f,getPanelRect:Ye.grid,xAxisDeclared:o[l.id],yAxisDeclared:s[l.id]})}))},geo:function(n,e){C(n.geoModels,function(t){var a=t.coordinateSystem;e.push({panelId:"geo--"+t.id,geoModel:t,coordSysModel:t,coordSys:a,coordSyses:[a],getPanelRect:Ye.geo})})}},Xe=[function(n,e){var t=n.xAxisModel,a=n.yAxisModel,r=n.gridModel;return!r&&t&&(r=t.axis.grid.model),!r&&a&&(r=a.axis.grid.model),r&&r===e.gridModel},function(n,e){var t=n.geoModel;return t&&t===e.geoModel}],Ye={grid:function(){return this.coordSys.master.getRect().clone()},geo:function(){var n=this.coordSys,e=n.getBoundingRect().clone();return e.applyTransform(ia(n)),e}},Vt={lineX:G(qe,0),lineY:G(qe,1),rect:function(n,e,t,a){var r=n?e.pointToData([t[0][0],t[1][0]],a):e.dataToPoint([t[0][0],t[1][0]],a),i=n?e.pointToData([t[0][1],t[1][1]],a):e.dataToPoint([t[0][1],t[1][1]],a),o=[Qt([r[0],i[0]]),Qt([r[1],i[1]])];return{values:o,xyMinMax:o}},polygon:function(n,e,t,a){var r=[[1/0,-1/0],[1/0,-1/0]],i=z(t,function(o){var s=n?e.pointToData(o,a):e.dataToPoint(o,a);return r[0][0]=Math.min(r[0][0],s[0]),r[1][0]=Math.min(r[1][0],s[1]),r[0][1]=Math.max(r[0][1],s[0]),r[1][1]=Math.max(r[1][1],s[1]),s});return{values:i,xyMinMax:r}}};function qe(n,e,t,a){var r=t.getAxis(["x","y"][n]),i=Qt(z([0,1],function(s){return e?r.coordToData(r.toLocalCoord(a[s]),!0):r.toGlobalCoord(r.dataToCoord(a[s]))})),o=[];return o[n]=i,o[1-n]=[NaN,NaN],{values:i,xyMinMax:o}}var Ke={lineX:G(je,0),lineY:G(je,1),rect:function(n,e,t){return[[n[0][0]-t[0]*e[0][0],n[0][1]-t[0]*e[0][1]],[n[1][0]-t[1]*e[1][0],n[1][1]-t[1]*e[1][1]]]},polygon:function(n,e,t){return z(n,function(a,r){return[a[0]-t[0]*e[r][0],a[1]-t[1]*e[r][1]]})}};function je(n,e,t,a){return[e[0]-a[n]*t[0],e[1]-a[n]*t[1]]}function oi(n,e){var t=Je(n),a=Je(e),r=[t[0]/a[0],t[1]/a[1]];return isNaN(r[0])&&(r[0]=1),isNaN(r[1])&&(r[1]=1),r}function Je(n){return n?[n[0][1]-n[0][0],n[1][1]-n[1][0]]:[NaN,NaN]}var te=C,si=wn("toolbox-dataZoom_"),li=function(n){O(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.render=function(t,a,r,i){this._brushController||(this._brushController=new vr(r.getZr()),this._brushController.on("brush",ae(this._onBrush,this)).mount()),fi(t,a,this,i,r),ci(t,a)},e.prototype.onclick=function(t,a,r){ui[r].call(this)},e.prototype.remove=function(t,a){this._brushController&&this._brushController.unmount()},e.prototype.dispose=function(t,a){this._brushController&&this._brushController.dispose()},e.prototype._onBrush=function(t){var a=t.areas;if(!t.isEnd||!a.length)return;var r={},i=this.ecModel;this._brushController.updateCovers([]);var o=new Ra(fe(this.model),i,{include:["grid"]});o.matchOutputRanges(a,i,function(u,f,c){if(c.type==="cartesian2d"){var v=u.brushType;v==="rect"?(s("x",c,f[0]),s("y",c,f[1])):s({lineX:"x",lineY:"y"}[v],c,f)}}),Qr(i,r),this._dispatchZoomAction(r);function s(u,f,c){var v=f.getAxis(u),h=v.model,p=l(u,h,i),m=p.findRepresentativeAxisProxy(h).getMinMaxSpan();(m.minValueSpan!=null||m.maxValueSpan!=null)&&(c=ma(0,c.slice(),v.scale.getExtent(),0,m.minValueSpan,m.maxValueSpan)),p&&(r[p.id]={dataZoomId:p.id,startValue:c[0],endValue:c[1]})}function l(u,f,c){var v;return c.eachComponent({mainType:"dataZoom",subType:"select"},function(h){var p=h.getAxisModel(u,f.componentIndex);p&&(v=h)}),v}},e.prototype._dispatchZoomAction=function(t){var a=[];te(t,function(r,i){a.push(j(r))}),a.length&&this.api.dispatchAction({type:"dataZoom",from:this.uid,batch:a})},e.getDefaultOption=function(t){var a={show:!0,filterMode:"filter",icon:{zoom:"M0,13.5h26.9 M13.5,26.9V0 M32.1,13.5H58V58H13.5 V32.1",back:"M22,1.4L9.9,13.5l12.3,12.3 M10.3,13.5H54.9v44.6 H10.3v-26"},title:t.getLocaleModel().get(["toolbox","dataZoom","title"]),brushStyle:{borderWidth:0,color:"rgba(210,219,238,0.2)"}};return a},e}(F),ui={zoom:function(){var n=!this._isZoomActive;this.api.dispatchAction({type:"takeGlobalCursor",key:"dataZoomSelect",dataZoomSelectActive:n})},back:function(){this._dispatchZoomAction(ti(this.ecModel))}};function fe(n){var e={xAxisIndex:n.get("xAxisIndex",!0),yAxisIndex:n.get("yAxisIndex",!0),xAxisId:n.get("xAxisId",!0),yAxisId:n.get("yAxisId",!0)};return e.xAxisIndex==null&&e.xAxisId==null&&(e.xAxisIndex="all"),e.yAxisIndex==null&&e.yAxisId==null&&(e.yAxisIndex="all"),e}function ci(n,e){n.setIconStatus("back",ai(e)>1?"emphasis":"normal")}function fi(n,e,t,a,r){var i=t._isZoomActive;a&&a.type==="takeGlobalCursor"&&(i=a.key==="dataZoomSelect"?a.dataZoomSelectActive:!1),t._isZoomActive=i,n.setIconStatus("zoom",i?"emphasis":"normal");var o=new Ra(fe(n),e,{include:["grid"]}),s=o.makePanelOpts(r,function(l){return l.xAxisDeclared&&!l.yAxisDeclared?"lineX":!l.xAxisDeclared&&l.yAxisDeclared?"lineY":"rect"});t._brushController.setPanels(s).enableBrush(i&&s.length?{brushType:"auto",brushStyle:n.getModel("brushStyle").getItemStyle()}:!1)}Cn("dataZoom",function(n){var e=n.getComponent("toolbox",0),t=["feature","dataZoom"];if(!e||e.get(t)==null)return;var a=e.getModel(t),r=[],i=fe(a),o=la(n,i);te(o.xAxisModels,function(l){return s(l,"xAxis","xAxisIndex")}),te(o.yAxisModels,function(l){return s(l,"yAxis","yAxisIndex")});function s(l,u,f){var c=l.componentIndex,v={type:"select",$fromToolbox:!0,filterMode:a.get("filterMode",!0)||"filter",id:si+u+c};v[f]=c,r.push(v)}return r});function vi(n){n.registerComponentModel(Vr),n.registerComponentView(zr),dt("saveAsImage",Zr),dt("magicType",Gr),dt("dataView",jr),dt("dataZoom",li),dt("restore",ni),ua(Nr)}const hi={__name:"CompareClassReason",setup(n){ua([In,tr,Dn,Mn,Pn,kn,vi]);const e=rt({title:{text:"班级错因分析对比"},tooltip:{trigger:"axis"},legend:{data:["Email","Union Ads","Video Ads","Direct","Search Engine"]},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},toolbox:{feature:{saveAsImage:{}}},xAxis:{type:"category",boundaryGap:!0,data:["题目理解","记忆缺失","知识点","缺乏知识体系","答题技巧"]},yAxis:{type:"value",axisLabel:{formatter:"{value}%"}},series:[{name:"1班",type:"line",data:[15.23,20.12,10.45,18.34,14.56],label:{show:!0,formatter:t=>`${t.value}%`},emphasis:{focus:"series"}},{name:"2班",type:"line",data:[21.3,.2,28.45,10,40.05],label:{show:!0,formatter:t=>`${t.value}%`},emphasis:{focus:"series"}}]});return(t,a)=>(it(),fa(On(Tn),{class:"chart",option:e.value,autoresize:""},null,8,["option"]))}},pi=ca(hi,[["__scopeId","data-v-b5755ebf"]]),gi={__name:"TeacherView",setup(n){const e=[{title:"易错知识点统计",dataIndex:"lostPoint",key:"lostPoint"},{title:"失分率",dataIndex:"lostRate",key:"lostRate",customRender:g=>`${g.value}%`}],t=rt([{lostPoint:"三大改造",lostRate:14.85},{lostPoint:"新民主主义",lostRate:11.72},{lostPoint:"民族资本主义",lostRate:75.89},{lostPoint:"亚太经合",lostRate:24.76},{lostPoint:"战后世界经济",lostRate:80.29}]);function a(g){const d=g.value.length;for(let y=0;y<d;y++)for(const _ in g.value[y])typeof g.value[y][_]=="number"&&(g.value[y][_]=Number((Math.random(Date.now())*100).toFixed(2)))}const r=rt(8),i=rt([]);for(let g=1;g<12;g++)i.value.push({value:g,label:`第${g}次月考 - 历史`});const o=()=>{console.log("focus")},s=()=>{a(t),a(c)};function l(g){return g<=30?"below-30 white-text":g<=50?"below-50 white-text":"normal"}function u(g,d){const y=Object.values(g);return y.shift(),y.pop(),Math.max(...y)===d?"largest":"non-largest"}const f=[{title:"序号",dataIndex:"questionIndex",key:"questionIndex"},{title:"得分率",dataIndex:"correctRate",key:"correctRate"},{title:"错因统计(错误人数)",dataIndex:"count",children:[{title:"题目理解",dataIndex:"understanding",key:"understanding"},{title:"记忆缺失",dataIndex:"memory",key:"memory"},{title:"知识点理解错误",dataIndex:"knowledgePoint",key:"knowledgePoint"},{title:"缺乏知识体系",dataIndex:"system",key:"system"},{title:"解题技巧",dataIndex:"technique",key:"technique"}]}],c=rt([]);for(let g=0;g<30;g++)c.value.push({correctRate:0,understanding:0,memory:0,knowledgePoint:0,system:0,technique:0});a(c);for(let g=0;g<30;g++)c.value[g].questionIndex=(g+1).toString();const v=[{title:"学生姓名",dataIndex:"studentName",key:"studentName"},{title:"学号",dataIndex:"studentID",key:"studentID"}],h=["王 (Wang)","李 (Li)","张 (Zhang)","刘 (Liu)","陈 (Chen)","杨 (Yang)","黄 (Huang)","赵 (Zhao)","吴 (Wu)","周 (Zhou)","徐 (Xu)","孙 (Sun)","马 (Ma)","朱 (Zhu)","胡 (Hu)","郭 (Guo)","何 (He)","林 (Lin)","高 (Gao)","郑 (Zheng)"],p=["沐宸 (Mùchén)","若汐 (Ruòxī)","浩宇 (Hàoyǔ)","一诺 (Yīnuò)","沐辰 (Mùchén)","艺涵 (Yìhán)","奕辰 (Yìchén)","梓涵 (Zǐhán)","雨桐 (Yǔtóng)","欣怡 (Xīnyí)","宇轩 (Yǔxuān)","语桐 (Yǔtóng)","沐阳 (Mùyáng)","语汐 (Yǔxī)"];function m(){const g=parseInt(Math.random()*h.length),d=parseInt(Math.random()*p.length);return{studentName:`${h[g]} ${p[d]}`,studentID:parseInt(Math.random()*1e8).toString().padStart(10,"0")}}const b=rt([]);for(let g=0;g<60;g++)b.value.push(m());return(g,d)=>{const y=kt("a-select"),_=kt("a-table"),A=kt("router-link");return it(),_t(Ae,null,[gt(pi,{class:"row compare-class-reason"}),gt(y,{ref:"select",options:i.value,value:r.value,"onUpdate:value":d[0]||(d[0]=S=>r.value=S),style:{width:"300px"},onFocus:o,onChange:s,class:"row"},null,8,["options","value"]),gt(_,{columns:f,"data-source":c.value,pagination:!1,scroll:{y:320},class:"row"},{bodyCell:Ot(({text:S,record:x,column:w})=>[w.dataIndex==="correctRate"?(it(),_t("span",{key:0,class:Ce(l(S))},St(S.toFixed(2))+"%",3)):["understanding","memory","knowledgePoint","system","technique"].includes(w.dataIndex)?(it(),_t("span",{key:1,class:Ce(u(x,S))},St(parseInt(S*.3)),3)):(it(),_t(Ae,{key:2},[we(St(S),1)],64))]),_:1},8,["data-source"]),gt(_,{columns:e,"data-source":t.value,pagination:!1,scroll:{y:320},class:"row"},null,8,["data-source"]),gt(_,{columns:v,"data-source":b.value,pagination:!1,scroll:{y:320},class:"row"},{bodyCell:Ot(({column:S,record:x})=>[S.key==="studentID"?(it(),fa(A,{key:0,to:"/student/"+x.studentID},{default:Ot(()=>[we(St(x.studentID),1)]),_:2},1032,["to"])):Rn("",!0)]),_:1},8,["data-source"])],64)}}},yi=ca(gi,[["__scopeId","data-v-0aeb2d89"]]);export{yi as default};
